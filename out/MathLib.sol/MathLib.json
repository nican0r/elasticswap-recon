{"abi":[{"type":"function","name":"BASIS_POINTS","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"WAD","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"}],"bytecode":{"object":"0x60a0610038600b82828239805160001a607314602b57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe7300000000000000000000000000000000000000003014608060405260043610603d5760003560e01c80636a146024146042578063e1f1c4a7146062575b600080fd5b6050670de0b6b3a764000081565b60405190815260200160405180910390f35b60506127108156fea2646970667358221220306d595551ac49665a84be03c95cb1238f613db09e6ee90a3de1c5ca373032cd64736f6c63430008040033","sourceMap":"107:31265:44:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;107:31265:44;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x7300000000000000000000000000000000000000003014608060405260043610603d5760003560e01c80636a146024146042578063e1f1c4a7146062575b600080fd5b6050670de0b6b3a764000081565b60405190815260200160405180910390f35b60506127108156fea2646970667358221220306d595551ac49665a84be03c95cb1238f613db09e6ee90a3de1c5ca373032cd64736f6c63430008040033","sourceMap":"107:31265:44:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;840:34;;870:4;840:34;;;;;168:25:52;;;156:2;141:18;840:34:44;;;;;;;790:44;;829:5;790:44;","linkReferences":{}},"methodIdentifiers":{"BASIS_POINTS()":"e1f1c4a7","WAD()":"6a146024"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.4+commit.c7e474f2\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"BASIS_POINTS\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"WAD\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"author\":\"ElasticDAO\",\"kind\":\"dev\",\"methods\":{},\"title\":\"MathLib\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/libraries/MathLib.sol\":\"MathLib\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@chimera/=lib/chimera/src/\",\":@ensdomains/=node_modules/@ensdomains/\",\":@openzeppelin/=node_modules/@openzeppelin/\",\":chimera/=lib/chimera/src/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":eth-gas-reporter/=node_modules/eth-gas-reporter/\",\":forge-std/=lib/forge-std/src/\",\":hardhat-deploy/=node_modules/hardhat-deploy/\",\":hardhat/=node_modules/hardhat/\"]},\"sources\":{\"src/libraries/MathLib.sol\":{\"keccak256\":\"0xbed958d87abdb5f304b2becbb8deaae191b72c0c2276b2f212c70237557582ad\",\"license\":\"GPL-3.0\",\"urls\":[\"bzz-raw://5ac55732a8015ede28e29daec64515f3fa7ade60e5b9f00c4de7715f4c889494\",\"dweb:/ipfs/QmVwwxywu7MVSkZvbS6ZZt8pYZQxUac26knW7Xg9SYLnq1\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.4+commit.c7e474f2"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"view","type":"function","name":"BASIS_POINTS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"WAD","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@chimera/=lib/chimera/src/","@ensdomains/=node_modules/@ensdomains/","@openzeppelin/=node_modules/@openzeppelin/","chimera/=lib/chimera/src/","ds-test/=lib/forge-std/lib/ds-test/src/","eth-gas-reporter/=node_modules/eth-gas-reporter/","forge-std/=lib/forge-std/src/","hardhat-deploy/=node_modules/hardhat-deploy/","hardhat/=node_modules/hardhat/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/libraries/MathLib.sol":"MathLib"},"evmVersion":"istanbul","libraries":{}},"sources":{"src/libraries/MathLib.sol":{"keccak256":"0xbed958d87abdb5f304b2becbb8deaae191b72c0c2276b2f212c70237557582ad","urls":["bzz-raw://5ac55732a8015ede28e29daec64515f3fa7ade60e5b9f00c4de7715f4c889494","dweb:/ipfs/QmVwwxywu7MVSkZvbS6ZZt8pYZQxUac26knW7Xg9SYLnq1"],"license":"GPL-3.0"}},"version":1},"ast":{"absolutePath":"src/libraries/MathLib.sol","id":49488,"exportedSymbols":{"MathLib":[49487]},"nodeType":"SourceUnit","src":"35:31338:44","nodes":[{"id":48360,"nodeType":"PragmaDirective","src":"35:22:44","nodes":[],"literals":["solidity","0.8",".4"]},{"id":49487,"nodeType":"ContractDefinition","src":"107:31265:44","nodes":[{"id":48368,"nodeType":"StructDefinition","src":"129:444:44","nodes":[],"canonicalName":"MathLib.InternalBalances","members":[{"constant":false,"id":48363,"mutability":"mutable","name":"baseTokenReserveQty","nameLocation":"432:19:44","nodeType":"VariableDeclaration","scope":48368,"src":"424:27:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48362,"name":"uint256","nodeType":"ElementaryTypeName","src":"424:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48365,"mutability":"mutable","name":"quoteTokenReserveQty","nameLocation":"474:20:44","nodeType":"VariableDeclaration","scope":48368,"src":"466:28:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48364,"name":"uint256","nodeType":"ElementaryTypeName","src":"466:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48367,"mutability":"mutable","name":"kLast","nameLocation":"517:5:44","nodeType":"VariableDeclaration","scope":48368,"src":"509:13:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48366,"name":"uint256","nodeType":"ElementaryTypeName","src":"509:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"InternalBalances","nameLocation":"136:16:44","scope":49487,"visibility":"public"},{"id":48377,"nodeType":"StructDefinition","src":"626:158:44","nodes":[],"canonicalName":"MathLib.TokenQtys","members":[{"constant":false,"id":48370,"mutability":"mutable","name":"baseTokenQty","nameLocation":"661:12:44","nodeType":"VariableDeclaration","scope":48377,"src":"653:20:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48369,"name":"uint256","nodeType":"ElementaryTypeName","src":"653:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48372,"mutability":"mutable","name":"quoteTokenQty","nameLocation":"691:13:44","nodeType":"VariableDeclaration","scope":48377,"src":"683:21:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48371,"name":"uint256","nodeType":"ElementaryTypeName","src":"683:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48374,"mutability":"mutable","name":"liquidityTokenQty","nameLocation":"722:17:44","nodeType":"VariableDeclaration","scope":48377,"src":"714:25:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48373,"name":"uint256","nodeType":"ElementaryTypeName","src":"714:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48376,"mutability":"mutable","name":"liquidityTokenFeeQty","nameLocation":"757:20:44","nodeType":"VariableDeclaration","scope":48377,"src":"749:28:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48375,"name":"uint256","nodeType":"ElementaryTypeName","src":"749:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"TokenQtys","nameLocation":"633:9:44","scope":49487,"visibility":"public"},{"id":48380,"nodeType":"VariableDeclaration","src":"790:44:44","nodes":[],"constant":true,"functionSelector":"e1f1c4a7","mutability":"constant","name":"BASIS_POINTS","nameLocation":"814:12:44","scope":49487,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48378,"name":"uint256","nodeType":"ElementaryTypeName","src":"790:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"3130303030","id":48379,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"829:5:44","typeDescriptions":{"typeIdentifier":"t_rational_10000_by_1","typeString":"int_const 10000"},"value":"10000"},"visibility":"public"},{"id":48383,"nodeType":"VariableDeclaration","src":"840:34:44","nodes":[],"constant":true,"functionSelector":"6a146024","mutability":"constant","name":"WAD","nameLocation":"864:3:44","scope":49487,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48381,"name":"uint256","nodeType":"ElementaryTypeName","src":"840:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"31653138","id":48382,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"870:4:44","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"},"value":"1e18"},"visibility":"public"},{"id":48407,"nodeType":"FunctionDefinition","src":"1350:117:44","nodes":[],"body":{"id":48406,"nodeType":"Block","src":"1418:49:44","nodes":[],"statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48404,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48401,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48395,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48393,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48386,"src":"1437:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":48394,"name":"WAD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48383,"src":"1441:3:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1437:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":48396,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1436:9:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48399,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48397,"name":"b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48388,"src":"1449:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"hexValue":"32","id":48398,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1453:1:44","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"src":"1449:5:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":48400,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1448:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1436:19:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":48402,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1435:21:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":48403,"name":"b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48388,"src":"1459:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1435:25:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":48392,"id":48405,"nodeType":"Return","src":"1428:32:44"}]},"documentation":{"id":48384,"nodeType":"StructuredDocumentation","src":"932:413:44","text":" @dev divides two float values, required since solidity does not handle\n floating point values.\n inspiration: https://github.com/dapphub/ds-math/blob/master/src/math.sol\n NOTE: this rounds to the nearest integer (up or down). For example .666666 would end up\n rounding to .66667.\n @return uint256 wad value (decimal with 18 digits of precision)"},"implemented":true,"kind":"function","modifiers":[],"name":"wDiv","nameLocation":"1359:4:44","parameters":{"id":48389,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48386,"mutability":"mutable","name":"a","nameLocation":"1372:1:44","nodeType":"VariableDeclaration","scope":48407,"src":"1364:9:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48385,"name":"uint256","nodeType":"ElementaryTypeName","src":"1364:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48388,"mutability":"mutable","name":"b","nameLocation":"1383:1:44","nodeType":"VariableDeclaration","scope":48407,"src":"1375:9:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48387,"name":"uint256","nodeType":"ElementaryTypeName","src":"1375:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1363:22:44"},"returnParameters":{"id":48392,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48391,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":48407,"src":"1409:7:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48390,"name":"uint256","nodeType":"ElementaryTypeName","src":"1409:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1408:9:44"},"scope":49487,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":48431,"nodeType":"FunctionDefinition","src":"1626:153:44","nodes":[],"body":{"id":48430,"nodeType":"Block","src":"1732:47:44","nodes":[],"statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48428,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48425,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48422,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48417,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48410,"src":"1751:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48420,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48418,"name":"n","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48412,"src":"1756:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"hexValue":"32","id":48419,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1760:1:44","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"src":"1756:5:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":48421,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1755:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1751:11:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":48423,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1750:13:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":48424,"name":"n","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48412,"src":"1766:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1750:17:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":48426,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1749:19:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":48427,"name":"n","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48412,"src":"1771:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1749:23:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":48416,"id":48429,"nodeType":"Return","src":"1742:30:44"}]},"documentation":{"id":48408,"nodeType":"StructuredDocumentation","src":"1473:148:44","text":" @dev rounds a integer (a) to the nearest n places.\n IE roundToNearest(123, 10) would round to the nearest 10th place (120)."},"implemented":true,"kind":"function","modifiers":[],"name":"roundToNearest","nameLocation":"1635:14:44","parameters":{"id":48413,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48410,"mutability":"mutable","name":"a","nameLocation":"1658:1:44","nodeType":"VariableDeclaration","scope":48431,"src":"1650:9:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48409,"name":"uint256","nodeType":"ElementaryTypeName","src":"1650:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48412,"mutability":"mutable","name":"n","nameLocation":"1669:1:44","nodeType":"VariableDeclaration","scope":48431,"src":"1661:9:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48411,"name":"uint256","nodeType":"ElementaryTypeName","src":"1661:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1649:22:44"},"returnParameters":{"id":48416,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48415,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":48431,"src":"1719:7:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48414,"name":"uint256","nodeType":"ElementaryTypeName","src":"1719:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1718:9:44"},"scope":49487,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":48455,"nodeType":"FunctionDefinition","src":"2076:119:44","nodes":[],"body":{"id":48454,"nodeType":"Block","src":"2144:51:44","nodes":[],"statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48452,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48449,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48443,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48441,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48434,"src":"2163:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":48442,"name":"b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48436,"src":"2167:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2163:5:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":48444,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2162:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48447,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"id":48445,"name":"WAD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48383,"src":"2173:3:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"hexValue":"32","id":48446,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2179:1:44","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"src":"2173:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":48448,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"2172:9:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2162:19:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":48450,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2161:21:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":48451,"name":"WAD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48383,"src":"2185:3:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2161:27:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":48440,"id":48453,"nodeType":"Return","src":"2154:34:44"}]},"documentation":{"id":48432,"nodeType":"StructuredDocumentation","src":"1785:286:44","text":" @dev multiplies two float values, required since solidity does not handle\n floating point values\n inspiration: https://github.com/dapphub/ds-math/blob/master/src/math.sol\n @return uint256 wad value (decimal with 18 digits of precision)"},"implemented":true,"kind":"function","modifiers":[],"name":"wMul","nameLocation":"2085:4:44","parameters":{"id":48437,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48434,"mutability":"mutable","name":"a","nameLocation":"2098:1:44","nodeType":"VariableDeclaration","scope":48455,"src":"2090:9:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48433,"name":"uint256","nodeType":"ElementaryTypeName","src":"2090:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48436,"mutability":"mutable","name":"b","nameLocation":"2109:1:44","nodeType":"VariableDeclaration","scope":48455,"src":"2101:9:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48435,"name":"uint256","nodeType":"ElementaryTypeName","src":"2101:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2089:22:44"},"returnParameters":{"id":48440,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48439,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":48455,"src":"2135:7:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48438,"name":"uint256","nodeType":"ElementaryTypeName","src":"2135:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2134:9:44"},"scope":49487,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":48479,"nodeType":"FunctionDefinition","src":"2338:155:44","nodes":[],"body":{"id":48478,"nodeType":"Block","src":"2406:87:44","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48467,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48465,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48458,"src":"2420:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":48466,"name":"b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48460,"src":"2425:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2420:6:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48473,"nodeType":"IfStatement","src":"2416:49:44","trueBody":{"id":48472,"nodeType":"Block","src":"2428:37:44","statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48470,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48468,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48458,"src":"2449:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":48469,"name":"b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48460,"src":"2453:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2449:5:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":48464,"id":48471,"nodeType":"Return","src":"2442:12:44"}]}},{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48476,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48474,"name":"b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48460,"src":"2481:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":48475,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48458,"src":"2485:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2481:5:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":48464,"id":48477,"nodeType":"Return","src":"2474:12:44"}]},"documentation":{"id":48456,"nodeType":"StructuredDocumentation","src":"2201:132:44","text":" @dev calculates an absolute diff between two integers. Basically the solidity\n equivalent of Math.abs(a-b);"},"implemented":true,"kind":"function","modifiers":[],"name":"diff","nameLocation":"2347:4:44","parameters":{"id":48461,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48458,"mutability":"mutable","name":"a","nameLocation":"2360:1:44","nodeType":"VariableDeclaration","scope":48479,"src":"2352:9:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48457,"name":"uint256","nodeType":"ElementaryTypeName","src":"2352:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48460,"mutability":"mutable","name":"b","nameLocation":"2371:1:44","nodeType":"VariableDeclaration","scope":48479,"src":"2363:9:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48459,"name":"uint256","nodeType":"ElementaryTypeName","src":"2363:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2351:22:44"},"returnParameters":{"id":48464,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48463,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":48479,"src":"2397:7:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48462,"name":"uint256","nodeType":"ElementaryTypeName","src":"2397:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2396:9:44"},"scope":49487,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":48520,"nodeType":"FunctionDefinition","src":"2608:200:44","nodes":[],"body":{"id":48519,"nodeType":"Block","src":"2667:141:44","nodes":[],"statements":[{"assignments":[48487],"declarations":[{"constant":false,"id":48487,"mutability":"mutable","name":"z","nameLocation":"2685:1:44","nodeType":"VariableDeclaration","scope":48519,"src":"2677:9:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48486,"name":"uint256","nodeType":"ElementaryTypeName","src":"2677:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48494,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48493,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48490,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48488,"name":"x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48481,"src":"2690:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"hexValue":"31","id":48489,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2694:1:44","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"2690:5:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":48491,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2689:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"hexValue":"32","id":48492,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2699:1:44","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"src":"2689:11:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2677:23:44"},{"expression":{"id":48497,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48495,"name":"y","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48484,"src":"2710:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":48496,"name":"x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48481,"src":"2714:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2710:5:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48498,"nodeType":"ExpressionStatement","src":"2710:5:44"},{"body":{"id":48517,"nodeType":"Block","src":"2739:63:44","statements":[{"expression":{"id":48504,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48502,"name":"y","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48484,"src":"2753:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":48503,"name":"z","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48487,"src":"2757:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2753:5:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48505,"nodeType":"ExpressionStatement","src":"2753:5:44"},{"expression":{"id":48515,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48506,"name":"z","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48487,"src":"2772:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48514,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48511,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48509,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48507,"name":"x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48481,"src":"2777:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":48508,"name":"z","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48487,"src":"2781:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2777:5:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":48510,"name":"z","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48487,"src":"2785:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2777:9:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":48512,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2776:11:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"hexValue":"32","id":48513,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2790:1:44","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"src":"2776:15:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2772:19:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48516,"nodeType":"ExpressionStatement","src":"2772:19:44"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48501,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48499,"name":"z","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48487,"src":"2732:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":48500,"name":"y","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48484,"src":"2736:1:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2732:5:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":48518,"nodeType":"WhileStatement","src":"2725:77:44"}]},"implemented":true,"kind":"function","modifiers":[],"name":"sqrt","nameLocation":"2617:4:44","parameters":{"id":48482,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48481,"mutability":"mutable","name":"x","nameLocation":"2630:1:44","nodeType":"VariableDeclaration","scope":48520,"src":"2622:9:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48480,"name":"uint256","nodeType":"ElementaryTypeName","src":"2622:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2621:11:44"},"returnParameters":{"id":48485,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48484,"mutability":"mutable","name":"y","nameLocation":"2664:1:44","nodeType":"VariableDeclaration","scope":48520,"src":"2656:9:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48483,"name":"uint256","nodeType":"ElementaryTypeName","src":"2656:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2655:11:44"},"scope":49487,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":48551,"nodeType":"FunctionDefinition","src":"3011:535:44","nodes":[],"body":{"id":48550,"nodeType":"Block","src":"3169:377:44","nodes":[],"statements":[{"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48547,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48538,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":48533,"name":"_baseTokenReserveQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48523,"src":"3210:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":48534,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48526,"src":"3232:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_memory_ptr","typeString":"struct MathLib.InternalBalances memory"}},"id":48535,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"baseTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48363,"src":"3232:37:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48532,"name":"diff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48479,"src":"3205:4:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":48536,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3205:65:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":48537,"name":"WAD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48383,"src":"3289:3:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3205:87:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[{"expression":{"id":48540,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48526,"src":"3328:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_memory_ptr","typeString":"struct MathLib.InternalBalances memory"}},"id":48541,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"baseTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48363,"src":"3328:37:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":48542,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48526,"src":"3383:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_memory_ptr","typeString":"struct MathLib.InternalBalances memory"}},"id":48543,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"quoteTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48365,"src":"3383:38:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48539,"name":"wDiv","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48407,"src":"3306:4:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":48544,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3306:129:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48531,"name":"wDiv","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48407,"src":"3187:4:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":48545,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3187:258:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":48546,"name":"WAD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48383,"src":"3449:3:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3187:265:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":48548,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"3186:267:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":48530,"id":48549,"nodeType":"Return","src":"3179:274:44"}]},"documentation":{"id":48521,"nodeType":"StructuredDocumentation","src":"2814:192:44","text":" @dev defines the amount of decay needed in order for us to require a user to handle the\n decay prior to a double asset entry as the equivalent of 1 unit of quote token"},"implemented":true,"kind":"function","modifiers":[],"name":"isSufficientDecayPresent","nameLocation":"3020:24:44","parameters":{"id":48527,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48523,"mutability":"mutable","name":"_baseTokenReserveQty","nameLocation":"3062:20:44","nodeType":"VariableDeclaration","scope":48551,"src":"3054:28:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48522,"name":"uint256","nodeType":"ElementaryTypeName","src":"3054:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48526,"mutability":"mutable","name":"_internalBalances","nameLocation":"3116:17:44","nodeType":"VariableDeclaration","scope":48551,"src":"3092:41:44","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_memory_ptr","typeString":"struct MathLib.InternalBalances"},"typeName":{"id":48525,"nodeType":"UserDefinedTypeName","pathNode":{"id":48524,"name":"InternalBalances","nodeType":"IdentifierPath","referencedDeclaration":48368,"src":"3092:16:44"},"referencedDeclaration":48368,"src":"3092:16:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances"}},"visibility":"internal"}],"src":"3044:95:44"},"returnParameters":{"id":48530,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48529,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":48551,"src":"3163:4:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":48528,"name":"bool","nodeType":"ElementaryTypeName","src":"3163:4:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"3162:6:44"},"scope":49487,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":48591,"nodeType":"FunctionDefinition","src":"3990:448:44","nodes":[],"body":{"id":48590,"nodeType":"Block","src":"4158:280:44","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48566,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48564,"name":"_tokenAQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48554,"src":"4176:10:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":48565,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4190:1:44","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4176:15:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4d6174684c69623a20494e53554646494349454e545f515459","id":48567,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4193:27:44","typeDescriptions":{"typeIdentifier":"t_stringliteral_2806b204f3c298e31a692c56fd3ff929b3c357a07de12f1942e12ffb21d69dba","typeString":"literal_string \"MathLib: INSUFFICIENT_QTY\""},"value":"MathLib: INSUFFICIENT_QTY"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_2806b204f3c298e31a692c56fd3ff929b3c357a07de12f1942e12ffb21d69dba","typeString":"literal_string \"MathLib: INSUFFICIENT_QTY\""}],"id":48563,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"4168:7:44","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":48568,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4168:53:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48569,"nodeType":"ExpressionStatement","src":"4168:53:44"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":48577,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48573,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48571,"name":"_tokenAReserveQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48556,"src":"4252:17:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":48572,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4273:1:44","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4252:22:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48576,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48574,"name":"_tokenBReserveQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48558,"src":"4278:17:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":48575,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4299:1:44","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4278:22:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"4252:48:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4d6174684c69623a20494e53554646494349454e545f4c4951554944495459","id":48578,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4314:33:44","typeDescriptions":{"typeIdentifier":"t_stringliteral_decf694e68cbe4e2d199afb421cf41d8d70bde96da40b1755ae7dbd3cf9f2766","typeString":"literal_string \"MathLib: INSUFFICIENT_LIQUIDITY\""},"value":"MathLib: INSUFFICIENT_LIQUIDITY"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_decf694e68cbe4e2d199afb421cf41d8d70bde96da40b1755ae7dbd3cf9f2766","typeString":"literal_string \"MathLib: INSUFFICIENT_LIQUIDITY\""}],"id":48570,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"4231:7:44","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":48579,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4231:126:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48580,"nodeType":"ExpressionStatement","src":"4231:126:44"},{"expression":{"id":48588,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48581,"name":"tokenBQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48561,"src":"4367:9:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48587,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48584,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48582,"name":"_tokenAQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48554,"src":"4380:10:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":48583,"name":"_tokenBReserveQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48558,"src":"4393:17:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4380:30:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":48585,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4379:32:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":48586,"name":"_tokenAReserveQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48556,"src":"4414:17:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4379:52:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4367:64:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48589,"nodeType":"ExpressionStatement","src":"4367:64:44"}]},"documentation":{"id":48552,"nodeType":"StructuredDocumentation","src":"3552:433:44","text":" @dev used to calculate the qty of token a liquidity provider\n must add in order to maintain the current reserve ratios\n @param _tokenAQty base or quote token qty to be supplied by the liquidity provider\n @param _tokenAReserveQty current reserve qty of the base or quote token (same token as tokenA)\n @param _tokenBReserveQty current reserve qty of the other base or quote token (not tokenA)"},"implemented":true,"kind":"function","modifiers":[],"name":"calculateQty","nameLocation":"3999:12:44","parameters":{"id":48559,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48554,"mutability":"mutable","name":"_tokenAQty","nameLocation":"4029:10:44","nodeType":"VariableDeclaration","scope":48591,"src":"4021:18:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48553,"name":"uint256","nodeType":"ElementaryTypeName","src":"4021:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48556,"mutability":"mutable","name":"_tokenAReserveQty","nameLocation":"4057:17:44","nodeType":"VariableDeclaration","scope":48591,"src":"4049:25:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48555,"name":"uint256","nodeType":"ElementaryTypeName","src":"4049:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48558,"mutability":"mutable","name":"_tokenBReserveQty","nameLocation":"4092:17:44","nodeType":"VariableDeclaration","scope":48591,"src":"4084:25:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48557,"name":"uint256","nodeType":"ElementaryTypeName","src":"4084:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4011:104:44"},"returnParameters":{"id":48562,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48561,"mutability":"mutable","name":"tokenBQty","nameLocation":"4147:9:44","nodeType":"VariableDeclaration","scope":48591,"src":"4139:17:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48560,"name":"uint256","nodeType":"ElementaryTypeName","src":"4139:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4138:19:44"},"scope":49487,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":48630,"nodeType":"FunctionDefinition","src":"4969:507:44","nodes":[],"body":{"id":48629,"nodeType":"Block","src":"5204:272:44","nodes":[],"statements":[{"assignments":[48606],"declarations":[{"constant":false,"id":48606,"mutability":"mutable","name":"tokenASwapQtyLessFee","nameLocation":"5222:20:44","nodeType":"VariableDeclaration","scope":48629,"src":"5214:28:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48605,"name":"uint256","nodeType":"ElementaryTypeName","src":"5214:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48613,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48612,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48607,"name":"_tokenASwapQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48594,"src":"5257:14:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48610,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48608,"name":"BASIS_POINTS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48380,"src":"5275:12:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":48609,"name":"_liquidityFeeInBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48600,"src":"5290:26:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5275:41:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":48611,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5274:43:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5257:60:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5214:103:44"},{"expression":{"id":48627,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48614,"name":"qtyToReturn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48603,"src":"5327:11:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48626,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48617,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48615,"name":"tokenASwapQtyLessFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48606,"src":"5354:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":48616,"name":"_tokenBReserveQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48598,"src":"5377:17:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5354:40:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":48618,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5353:42:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48624,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48621,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48619,"name":"_tokenAReserveQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48596,"src":"5412:17:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":48620,"name":"BASIS_POINTS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48380,"src":"5432:12:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5412:32:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":48622,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5411:34:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":48623,"name":"tokenASwapQtyLessFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48606,"src":"5448:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5411:57:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":48625,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5410:59:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5353:116:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5327:142:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48628,"nodeType":"ExpressionStatement","src":"5327:142:44"}]},"documentation":{"id":48592,"nodeType":"StructuredDocumentation","src":"4444:520:44","text":" @dev used to calculate the qty of token a trader will receive (less fees)\n given the qty of token A they are providing\n @param _tokenASwapQty base or quote token qty to be swapped by the trader\n @param _tokenAReserveQty current reserve qty of the base or quote token (same token as tokenA)\n @param _tokenBReserveQty current reserve qty of the other base or quote token (not tokenA)\n @param _liquidityFeeInBasisPoints fee to liquidity providers represented in basis points"},"implemented":true,"kind":"function","modifiers":[],"name":"calculateQtyToReturnAfterFees","nameLocation":"4978:29:44","parameters":{"id":48601,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48594,"mutability":"mutable","name":"_tokenASwapQty","nameLocation":"5025:14:44","nodeType":"VariableDeclaration","scope":48630,"src":"5017:22:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48593,"name":"uint256","nodeType":"ElementaryTypeName","src":"5017:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48596,"mutability":"mutable","name":"_tokenAReserveQty","nameLocation":"5057:17:44","nodeType":"VariableDeclaration","scope":48630,"src":"5049:25:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48595,"name":"uint256","nodeType":"ElementaryTypeName","src":"5049:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48598,"mutability":"mutable","name":"_tokenBReserveQty","nameLocation":"5092:17:44","nodeType":"VariableDeclaration","scope":48630,"src":"5084:25:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48597,"name":"uint256","nodeType":"ElementaryTypeName","src":"5084:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48600,"mutability":"mutable","name":"_liquidityFeeInBasisPoints","nameLocation":"5127:26:44","nodeType":"VariableDeclaration","scope":48630,"src":"5119:34:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48599,"name":"uint256","nodeType":"ElementaryTypeName","src":"5119:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5007:152:44"},"returnParameters":{"id":48604,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48603,"mutability":"mutable","name":"qtyToReturn","nameLocation":"5191:11:44","nodeType":"VariableDeclaration","scope":48630,"src":"5183:19:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48602,"name":"uint256","nodeType":"ElementaryTypeName","src":"5183:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5182:21:44"},"scope":49487,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":48684,"nodeType":"FunctionDefinition","src":"6271:926:44","nodes":[],"body":{"id":48683,"nodeType":"Block","src":"6589:608:44","nodes":[],"statements":[{"assignments":[48648],"declarations":[{"constant":false,"id":48648,"mutability":"mutable","name":"wRatio","nameLocation":"6840:6:44","nodeType":"VariableDeclaration","scope":48683,"src":"6832:14:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48647,"name":"uint256","nodeType":"ElementaryTypeName","src":"6832:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"documentation":"(is the formula in the terms of quoteToken)\nΔY \n= ---------------------                                                    \nAlpha/Omega + Y'","id":48653,"initialValue":{"arguments":[{"id":48650,"name":"_baseTokenReserveBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48633,"src":"6854:24:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48651,"name":"_omega","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48641,"src":"6880:6:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48649,"name":"wDiv","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48407,"src":"6849:4:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":48652,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6849:38:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6832:55:44"},{"assignments":[48655],"declarations":[{"constant":false,"id":48655,"mutability":"mutable","name":"denominator","nameLocation":"6905:11:44","nodeType":"VariableDeclaration","scope":48683,"src":"6897:19:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48654,"name":"uint256","nodeType":"ElementaryTypeName","src":"6897:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48659,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48658,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48656,"name":"wRatio","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48648,"src":"6919:6:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":48657,"name":"_internalTokenAReserveQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48639,"src":"6928:25:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6919:34:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6897:56:44"},{"assignments":[48661],"declarations":[{"constant":false,"id":48661,"mutability":"mutable","name":"wGamma","nameLocation":"6971:6:44","nodeType":"VariableDeclaration","scope":48683,"src":"6963:14:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48660,"name":"uint256","nodeType":"ElementaryTypeName","src":"6963:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48666,"initialValue":{"arguments":[{"id":48663,"name":"_tokenQtyAToAdd","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48637,"src":"6985:15:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48664,"name":"denominator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48655,"src":"7002:11:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48662,"name":"wDiv","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48407,"src":"6980:4:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":48665,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6980:34:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6963:51:44"},{"expression":{"id":48681,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48667,"name":"liquidityTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48644,"src":"7025:17:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48680,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48672,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48670,"name":"_totalSupplyOfLiquidityTokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48635,"src":"7084:29:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":48671,"name":"WAD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48383,"src":"7116:3:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7084:35:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48673,"name":"wGamma","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48661,"src":"7121:6:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48669,"name":"wMul","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48455,"src":"7079:4:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":48674,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7079:49:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48677,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48675,"name":"WAD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48383,"src":"7146:3:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":48676,"name":"wGamma","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48661,"src":"7152:6:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7146:12:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48668,"name":"wDiv","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48407,"src":"7057:4:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":48678,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7057:115:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":48679,"name":"WAD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48383,"src":"7187:3:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7057:133:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7025:165:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48682,"nodeType":"ExpressionStatement","src":"7025:165:44"}]},"documentation":{"id":48631,"nodeType":"StructuredDocumentation","src":"5482:784:44","text":" @dev used to calculate the qty of liquidity tokens (deltaRo) we will be issued to a supplier\n of a single asset entry when base token decay is present.\n @param _baseTokenReserveBalance the total balance (external) of base tokens in our pool (Alpha)\n @param _totalSupplyOfLiquidityTokens the total supply of our exchange's liquidity tokens (aka Ro)\n @param _tokenQtyAToAdd the amount of tokens being added by the caller to remove the current decay\n @param _internalTokenAReserveQty the internal balance (X or Y) of token A as a result of this transaction\n @param _omega - ratio of internal balances of baseToken and quoteToken: baseToken/quoteToken\n @return liquidityTokenQty qty of liquidity tokens to be issued in exchange"},"implemented":true,"kind":"function","modifiers":[],"name":"calculateLiquidityTokenQtyForSingleAssetEntryWithBaseTokenDecay","nameLocation":"6280:63:44","parameters":{"id":48642,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48633,"mutability":"mutable","name":"_baseTokenReserveBalance","nameLocation":"6361:24:44","nodeType":"VariableDeclaration","scope":48684,"src":"6353:32:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48632,"name":"uint256","nodeType":"ElementaryTypeName","src":"6353:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48635,"mutability":"mutable","name":"_totalSupplyOfLiquidityTokens","nameLocation":"6403:29:44","nodeType":"VariableDeclaration","scope":48684,"src":"6395:37:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48634,"name":"uint256","nodeType":"ElementaryTypeName","src":"6395:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48637,"mutability":"mutable","name":"_tokenQtyAToAdd","nameLocation":"6450:15:44","nodeType":"VariableDeclaration","scope":48684,"src":"6442:23:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48636,"name":"uint256","nodeType":"ElementaryTypeName","src":"6442:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48639,"mutability":"mutable","name":"_internalTokenAReserveQty","nameLocation":"6483:25:44","nodeType":"VariableDeclaration","scope":48684,"src":"6475:33:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48638,"name":"uint256","nodeType":"ElementaryTypeName","src":"6475:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48641,"mutability":"mutable","name":"_omega","nameLocation":"6526:6:44","nodeType":"VariableDeclaration","scope":48684,"src":"6518:14:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48640,"name":"uint256","nodeType":"ElementaryTypeName","src":"6518:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6343:195:44"},"returnParameters":{"id":48645,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48644,"mutability":"mutable","name":"liquidityTokenQty","nameLocation":"6570:17:44","nodeType":"VariableDeclaration","scope":48684,"src":"6562:25:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48643,"name":"uint256","nodeType":"ElementaryTypeName","src":"6562:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6561:27:44"},"scope":49487,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":48731,"nodeType":"FunctionDefinition","src":"7887:841:44","nodes":[],"body":{"id":48730,"nodeType":"Block","src":"8182:546:44","nodes":[],"statements":[{"assignments":[48700],"declarations":[{"constant":false,"id":48700,"mutability":"mutable","name":"denominator","nameLocation":"8356:11:44","nodeType":"VariableDeclaration","scope":48730,"src":"8348:19:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48699,"name":"uint256","nodeType":"ElementaryTypeName","src":"8348:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"documentation":"ΔX\n= -------------------  / (denominator may be Alpha' instead of X)\nX + (Alpha + ΔX)","id":48706,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48705,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48703,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48701,"name":"_internalTokenAReserveQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48693,"src":"8382:25:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":48702,"name":"_baseTokenReserveBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48687,"src":"8426:24:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8382:68:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":48704,"name":"_tokenQtyAToAdd","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48691,"src":"8469:15:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8382:102:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8348:136:44"},{"assignments":[48708],"declarations":[{"constant":false,"id":48708,"mutability":"mutable","name":"wGamma","nameLocation":"8502:6:44","nodeType":"VariableDeclaration","scope":48730,"src":"8494:14:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48707,"name":"uint256","nodeType":"ElementaryTypeName","src":"8494:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48713,"initialValue":{"arguments":[{"id":48710,"name":"_tokenQtyAToAdd","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48691,"src":"8516:15:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48711,"name":"denominator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48700,"src":"8533:11:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48709,"name":"wDiv","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48407,"src":"8511:4:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":48712,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8511:34:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8494:51:44"},{"expression":{"id":48728,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48714,"name":"liquidityTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48696,"src":"8556:17:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48727,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48719,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48717,"name":"_totalSupplyOfLiquidityTokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48689,"src":"8615:29:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":48718,"name":"WAD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48383,"src":"8647:3:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8615:35:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48720,"name":"wGamma","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48708,"src":"8652:6:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48716,"name":"wMul","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48455,"src":"8610:4:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":48721,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8610:49:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48724,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48722,"name":"WAD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48383,"src":"8677:3:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":48723,"name":"wGamma","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48708,"src":"8683:6:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8677:12:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48715,"name":"wDiv","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48407,"src":"8588:4:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":48725,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8588:115:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":48726,"name":"WAD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48383,"src":"8718:3:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8588:133:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8556:165:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48729,"nodeType":"ExpressionStatement","src":"8556:165:44"}]},"documentation":{"id":48685,"nodeType":"StructuredDocumentation","src":"7203:679:44","text":" @dev used to calculate the qty of liquidity tokens (deltaRo) we will be issued to a supplier\n of a single asset entry when quote decay is present.\n @param _baseTokenReserveBalance the total balance (external) of base tokens in our pool (Alpha)\n @param _totalSupplyOfLiquidityTokens the total supply of our exchange's liquidity tokens (aka Ro)\n @param _tokenQtyAToAdd the amount of tokens being added by the caller to remove the current decay\n @param _internalTokenAReserveQty the internal balance (X or Y) of token A as a result of this transaction\n @return liquidityTokenQty qty of liquidity tokens to be issued in exchange"},"implemented":true,"kind":"function","modifiers":[],"name":"calculateLiquidityTokenQtyForSingleAssetEntryWithQuoteTokenDecay","nameLocation":"7896:64:44","parameters":{"id":48694,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48687,"mutability":"mutable","name":"_baseTokenReserveBalance","nameLocation":"7978:24:44","nodeType":"VariableDeclaration","scope":48731,"src":"7970:32:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48686,"name":"uint256","nodeType":"ElementaryTypeName","src":"7970:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48689,"mutability":"mutable","name":"_totalSupplyOfLiquidityTokens","nameLocation":"8020:29:44","nodeType":"VariableDeclaration","scope":48731,"src":"8012:37:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48688,"name":"uint256","nodeType":"ElementaryTypeName","src":"8012:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48691,"mutability":"mutable","name":"_tokenQtyAToAdd","nameLocation":"8067:15:44","nodeType":"VariableDeclaration","scope":48731,"src":"8059:23:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48690,"name":"uint256","nodeType":"ElementaryTypeName","src":"8059:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48693,"mutability":"mutable","name":"_internalTokenAReserveQty","nameLocation":"8100:25:44","nodeType":"VariableDeclaration","scope":48731,"src":"8092:33:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48692,"name":"uint256","nodeType":"ElementaryTypeName","src":"8092:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7960:171:44"},"returnParameters":{"id":48697,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48696,"mutability":"mutable","name":"liquidityTokenQty","nameLocation":"8163:17:44","nodeType":"VariableDeclaration","scope":48731,"src":"8155:25:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48695,"name":"uint256","nodeType":"ElementaryTypeName","src":"8155:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"8154:27:44"},"scope":49487,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":48753,"nodeType":"FunctionDefinition","src":"9307:370:44","nodes":[],"body":{"id":48752,"nodeType":"Block","src":"9540:137:44","nodes":[],"statements":[{"expression":{"id":48750,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48743,"name":"liquidityTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48741,"src":"9550:17:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48749,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48746,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48744,"name":"_quoteTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48736,"src":"9583:14:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":48745,"name":"_totalSupplyOfLiquidityTokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48734,"src":"9600:29:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9583:46:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":48747,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"9582:48:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":48748,"name":"_quoteTokenReserveBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48738,"src":"9645:25:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9582:88:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9550:120:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48751,"nodeType":"ExpressionStatement","src":"9550:120:44"}]},"documentation":{"id":48732,"nodeType":"StructuredDocumentation","src":"8734:568:44","text":" @dev used to calculate the qty of liquidity tokens (deltaRo) we will be issued to a supplier\n of a single asset entry when decay is present.\n @param _totalSupplyOfLiquidityTokens the total supply of our exchange's liquidity tokens (aka Ro)\n @param _quoteTokenQty the amount of quote token the user it adding to the pool (deltaB or deltaY)\n @param _quoteTokenReserveBalance the total balance (external) of quote tokens in our pool (Beta)\n @return liquidityTokenQty qty of liquidity tokens to be issued in exchange"},"implemented":true,"kind":"function","modifiers":[],"name":"calculateLiquidityTokenQtyForDoubleAssetEntry","nameLocation":"9316:45:44","parameters":{"id":48739,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48734,"mutability":"mutable","name":"_totalSupplyOfLiquidityTokens","nameLocation":"9379:29:44","nodeType":"VariableDeclaration","scope":48753,"src":"9371:37:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48733,"name":"uint256","nodeType":"ElementaryTypeName","src":"9371:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48736,"mutability":"mutable","name":"_quoteTokenQty","nameLocation":"9426:14:44","nodeType":"VariableDeclaration","scope":48753,"src":"9418:22:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48735,"name":"uint256","nodeType":"ElementaryTypeName","src":"9418:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48738,"mutability":"mutable","name":"_quoteTokenReserveBalance","nameLocation":"9458:25:44","nodeType":"VariableDeclaration","scope":48753,"src":"9450:33:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48737,"name":"uint256","nodeType":"ElementaryTypeName","src":"9450:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"9361:128:44"},"returnParameters":{"id":48742,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48741,"mutability":"mutable","name":"liquidityTokenQty","nameLocation":"9521:17:44","nodeType":"VariableDeclaration","scope":48753,"src":"9513:25:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48740,"name":"uint256","nodeType":"ElementaryTypeName","src":"9513:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"9512:27:44"},"scope":49487,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":48854,"nodeType":"FunctionDefinition","src":"10422:1968:44","nodes":[],"body":{"id":48853,"nodeType":"Block","src":"10723:1667:44","nodes":[],"statements":[{"assignments":[48771],"declarations":[{"constant":false,"id":48771,"mutability":"mutable","name":"baseTokenDecay","nameLocation":"10741:14:44","nodeType":"VariableDeclaration","scope":48853,"src":"10733:22:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48770,"name":"uint256","nodeType":"ElementaryTypeName","src":"10733:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48776,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48775,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48772,"name":"_baseTokenReserveQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48758,"src":"10770:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":48773,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48763,"src":"10793:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":48774,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"baseTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48363,"src":"10793:37:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10770:60:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"10733:97:44"},{"assignments":[48778],"declarations":[{"constant":false,"id":48778,"mutability":"mutable","name":"wInternalBaseTokenToQuoteTokenRatio","nameLocation":"10942:35:44","nodeType":"VariableDeclaration","scope":48853,"src":"10934:43:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48777,"name":"uint256","nodeType":"ElementaryTypeName","src":"10934:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48785,"initialValue":{"arguments":[{"expression":{"id":48780,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48763,"src":"11014:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":48781,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"baseTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48363,"src":"11014:37:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":48782,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48763,"src":"11069:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":48783,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"quoteTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48365,"src":"11069:38:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48779,"name":"wDiv","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48407,"src":"10992:4:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":48784,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10992:129:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"10934:187:44"},{"assignments":[48787],"declarations":[{"constant":false,"id":48787,"mutability":"mutable","name":"maxQuoteTokenQty","nameLocation":"11176:16:44","nodeType":"VariableDeclaration","scope":48853,"src":"11168:24:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48786,"name":"uint256","nodeType":"ElementaryTypeName","src":"11168:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48792,"initialValue":{"arguments":[{"id":48789,"name":"baseTokenDecay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48771,"src":"11212:14:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48790,"name":"wInternalBaseTokenToQuoteTokenRatio","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48778,"src":"11228:35:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48788,"name":"wDiv","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48407,"src":"11207:4:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":48791,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11207:57:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"11168:96:44"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48795,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48793,"name":"_quoteTokenQtyDesired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48756,"src":"11279:21:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":48794,"name":"maxQuoteTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48787,"src":"11303:16:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11279:40:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":48805,"nodeType":"Block","src":"11384:62:44","statements":[{"expression":{"id":48803,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48801,"name":"quoteTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48766,"src":"11398:13:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":48802,"name":"_quoteTokenQtyDesired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48756,"src":"11414:21:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11398:37:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48804,"nodeType":"ExpressionStatement","src":"11398:37:44"}]},"id":48806,"nodeType":"IfStatement","src":"11275:171:44","trueBody":{"id":48800,"nodeType":"Block","src":"11321:57:44","statements":[{"expression":{"id":48798,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48796,"name":"quoteTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48766,"src":"11335:13:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":48797,"name":"maxQuoteTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48787,"src":"11351:16:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11335:32:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48799,"nodeType":"ExpressionStatement","src":"11335:32:44"}]}},{"assignments":[48808],"declarations":[{"constant":false,"id":48808,"mutability":"mutable","name":"baseTokenQtyDecayChange","nameLocation":"11464:23:44","nodeType":"VariableDeclaration","scope":48853,"src":"11456:31:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48807,"name":"uint256","nodeType":"ElementaryTypeName","src":"11456:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48818,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48817,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48812,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48810,"name":"quoteTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48766,"src":"11535:13:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":48811,"name":"wInternalBaseTokenToQuoteTokenRatio","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48778,"src":"11551:35:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11535:51:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":48813,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"11534:53:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48814,"name":"WAD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48383,"src":"11605:3:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48809,"name":"roundToNearest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48431,"src":"11502:14:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":48815,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11502:120:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":48816,"name":"WAD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48383,"src":"11625:3:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11502:126:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"11456:172:44"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48822,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48820,"name":"baseTokenQtyDecayChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48808,"src":"11660:23:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":48821,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11687:1:44","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"11660:28:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4d6174684c69623a20494e53554646494349454e545f4348414e47455f494e5f4445434159","id":48823,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"11702:39:44","typeDescriptions":{"typeIdentifier":"t_stringliteral_4cb2ccf0ba6c145771c2b5fc543b0e923fd4e8a1e23bd1e4994502820230c2fa","typeString":"literal_string \"MathLib: INSUFFICIENT_CHANGE_IN_DECAY\""},"value":"MathLib: INSUFFICIENT_CHANGE_IN_DECAY"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_4cb2ccf0ba6c145771c2b5fc543b0e923fd4e8a1e23bd1e4994502820230c2fa","typeString":"literal_string \"MathLib: INSUFFICIENT_CHANGE_IN_DECAY\""}],"id":48819,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"11639:7:44","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":48824,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11639:112:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48825,"nodeType":"ExpressionStatement","src":"11639:112:44"},{"expression":{"id":48830,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":48826,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48763,"src":"11818:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":48828,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"baseTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48363,"src":"11818:37:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":48829,"name":"baseTokenQtyDecayChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48808,"src":"11859:23:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11818:64:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48831,"nodeType":"ExpressionStatement","src":"11818:64:44"},{"expression":{"id":48836,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":48832,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48763,"src":"11892:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":48834,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"quoteTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48365,"src":"11892:38:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":48835,"name":"quoteTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48766,"src":"11934:13:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11892:55:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48837,"nodeType":"ExpressionStatement","src":"11892:55:44"},{"expression":{"id":48847,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48838,"name":"liquidityTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48768,"src":"12034:17:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":48840,"name":"_baseTokenReserveQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48758,"src":"12131:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48841,"name":"_totalSupplyOfLiquidityTokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48760,"src":"12165:29:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48842,"name":"quoteTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48766,"src":"12208:13:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":48843,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48763,"src":"12235:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":48844,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"quoteTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48365,"src":"12235:38:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48845,"name":"wInternalBaseTokenToQuoteTokenRatio","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48778,"src":"12287:35:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48839,"name":"calculateLiquidityTokenQtyForSingleAssetEntryWithBaseTokenDecay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48684,"src":"12054:63:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":48846,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12054:278:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12034:298:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48848,"nodeType":"ExpressionStatement","src":"12034:298:44"},{"expression":{"components":[{"id":48849,"name":"quoteTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48766,"src":"12350:13:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48850,"name":"liquidityTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48768,"src":"12365:17:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":48851,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"12349:34:44","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"functionReturnParameters":48769,"id":48852,"nodeType":"Return","src":"12342:41:44"}]},"documentation":{"id":48754,"nodeType":"StructuredDocumentation","src":"9683:734:44","text":" @dev used to calculate the qty of quote token required and liquidity tokens (deltaRo) to be issued\n in order to add liquidity and remove base token decay.\n @param _quoteTokenQtyDesired the amount of quote token the user wants to contribute\n @param _baseTokenReserveQty the external base token reserve qty prior to this transaction\n @param _totalSupplyOfLiquidityTokens the total supply of our exchange's liquidity tokens (aka Ro)\n @param _internalBalances internal balances struct from our exchange's internal accounting\n @return quoteTokenQty qty of quote token the user must supply\n @return liquidityTokenQty qty of liquidity tokens to be issued in exchange"},"implemented":true,"kind":"function","modifiers":[],"name":"calculateAddQuoteTokenLiquidityQuantities","nameLocation":"10431:41:44","parameters":{"id":48764,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48756,"mutability":"mutable","name":"_quoteTokenQtyDesired","nameLocation":"10490:21:44","nodeType":"VariableDeclaration","scope":48854,"src":"10482:29:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48755,"name":"uint256","nodeType":"ElementaryTypeName","src":"10482:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48758,"mutability":"mutable","name":"_baseTokenReserveQty","nameLocation":"10529:20:44","nodeType":"VariableDeclaration","scope":48854,"src":"10521:28:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48757,"name":"uint256","nodeType":"ElementaryTypeName","src":"10521:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48760,"mutability":"mutable","name":"_totalSupplyOfLiquidityTokens","nameLocation":"10567:29:44","nodeType":"VariableDeclaration","scope":48854,"src":"10559:37:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48759,"name":"uint256","nodeType":"ElementaryTypeName","src":"10559:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48763,"mutability":"mutable","name":"_internalBalances","nameLocation":"10631:17:44","nodeType":"VariableDeclaration","scope":48854,"src":"10606:42:44","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances"},"typeName":{"id":48762,"nodeType":"UserDefinedTypeName","pathNode":{"id":48761,"name":"InternalBalances","nodeType":"IdentifierPath","referencedDeclaration":48368,"src":"10606:16:44"},"referencedDeclaration":48368,"src":"10606:16:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances"}},"visibility":"internal"}],"src":"10472:182:44"},"returnParameters":{"id":48769,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48766,"mutability":"mutable","name":"quoteTokenQty","nameLocation":"10681:13:44","nodeType":"VariableDeclaration","scope":48854,"src":"10673:21:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48765,"name":"uint256","nodeType":"ElementaryTypeName","src":"10673:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48768,"mutability":"mutable","name":"liquidityTokenQty","nameLocation":"10704:17:44","nodeType":"VariableDeclaration","scope":48854,"src":"10696:25:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48767,"name":"uint256","nodeType":"ElementaryTypeName","src":"10696:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"10672:50:44"},"scope":49487,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":48957,"nodeType":"FunctionDefinition","src":"13239:2758:44","nodes":[],"body":{"id":48956,"nodeType":"Block","src":"13575:2422:44","nodes":[],"statements":[{"assignments":[48874],"declarations":[{"constant":false,"id":48874,"mutability":"mutable","name":"maxBaseTokenQty","nameLocation":"13593:15:44","nodeType":"VariableDeclaration","scope":48956,"src":"13585:23:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48873,"name":"uint256","nodeType":"ElementaryTypeName","src":"13585:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48879,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48878,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":48875,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48866,"src":"13623:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_memory_ptr","typeString":"struct MathLib.InternalBalances memory"}},"id":48876,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"baseTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48363,"src":"13623:37:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":48877,"name":"_baseTokenReserveQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48861,"src":"13663:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13623:60:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"13585:98:44"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48883,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48881,"name":"_baseTokenQtyMin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48859,"src":"13714:16:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":48882,"name":"maxBaseTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48874,"src":"13734:15:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13714:35:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4d6174684c69623a20494e53554646494349454e545f4445434159","id":48884,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"13763:29:44","typeDescriptions":{"typeIdentifier":"t_stringliteral_bbc1497fcf5d5d71da236bc329982b36f280093fa01edf39e6b87f7159607ea1","typeString":"literal_string \"MathLib: INSUFFICIENT_DECAY\""},"value":"MathLib: INSUFFICIENT_DECAY"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_bbc1497fcf5d5d71da236bc329982b36f280093fa01edf39e6b87f7159607ea1","typeString":"literal_string \"MathLib: INSUFFICIENT_DECAY\""}],"id":48880,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"13693:7:44","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":48885,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"13693:109:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48886,"nodeType":"ExpressionStatement","src":"13693:109:44"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48889,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48887,"name":"_baseTokenQtyDesired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48857,"src":"13817:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":48888,"name":"maxBaseTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48874,"src":"13840:15:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13817:38:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":48899,"nodeType":"Block","src":"13918:60:44","statements":[{"expression":{"id":48897,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48895,"name":"baseTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48869,"src":"13932:12:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":48896,"name":"_baseTokenQtyDesired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48857,"src":"13947:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13932:35:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48898,"nodeType":"ExpressionStatement","src":"13932:35:44"}]},"id":48900,"nodeType":"IfStatement","src":"13813:165:44","trueBody":{"id":48894,"nodeType":"Block","src":"13857:55:44","statements":[{"expression":{"id":48892,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48890,"name":"baseTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48869,"src":"13871:12:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":48891,"name":"maxBaseTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48874,"src":"13886:15:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13871:30:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48893,"nodeType":"ExpressionStatement","src":"13871:30:44"}]}},{"assignments":[48902],"declarations":[{"constant":false,"id":48902,"mutability":"mutable","name":"wInternalQuoteToBaseTokenRatio","nameLocation":"14079:30:44","nodeType":"VariableDeclaration","scope":48956,"src":"14071:38:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48901,"name":"uint256","nodeType":"ElementaryTypeName","src":"14071:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48909,"initialValue":{"arguments":[{"expression":{"id":48904,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48866,"src":"14146:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_memory_ptr","typeString":"struct MathLib.InternalBalances memory"}},"id":48905,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"quoteTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48365,"src":"14146:38:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":48906,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48866,"src":"14202:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_memory_ptr","typeString":"struct MathLib.InternalBalances memory"}},"id":48907,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"baseTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48363,"src":"14202:37:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48903,"name":"wDiv","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48407,"src":"14124:4:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":48908,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"14124:129:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"14071:182:44"},{"assignments":[48911],"declarations":[{"constant":false,"id":48911,"mutability":"mutable","name":"quoteTokenQtyDecayChange","nameLocation":"14545:24:44","nodeType":"VariableDeclaration","scope":48956,"src":"14537:32:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48910,"name":"uint256","nodeType":"ElementaryTypeName","src":"14537:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48922,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48921,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48915,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48913,"name":"baseTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48869,"src":"14617:12:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":48914,"name":"wInternalQuoteToBaseTokenRatio","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48902,"src":"14632:30:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"14617:45:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":48916,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"14616:47:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":48917,"name":"MathLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49487,"src":"14681:7:44","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_MathLib_$49487_$","typeString":"type(library MathLib)"}},"id":48918,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"WAD","nodeType":"MemberAccess","referencedDeclaration":48383,"src":"14681:11:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48912,"name":"roundToNearest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48431,"src":"14584:14:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":48919,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"14584:122:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":48920,"name":"WAD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48383,"src":"14709:3:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"14584:128:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"14537:175:44"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48926,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48924,"name":"quoteTokenQtyDecayChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48911,"src":"14744:24:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":48925,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14772:1:44","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"14744:29:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4d6174684c69623a20494e53554646494349454e545f4348414e47455f494e5f4445434159","id":48927,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"14787:39:44","typeDescriptions":{"typeIdentifier":"t_stringliteral_4cb2ccf0ba6c145771c2b5fc543b0e923fd4e8a1e23bd1e4994502820230c2fa","typeString":"literal_string \"MathLib: INSUFFICIENT_CHANGE_IN_DECAY\""},"value":"MathLib: INSUFFICIENT_CHANGE_IN_DECAY"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_4cb2ccf0ba6c145771c2b5fc543b0e923fd4e8a1e23bd1e4994502820230c2fa","typeString":"literal_string \"MathLib: INSUFFICIENT_CHANGE_IN_DECAY\""}],"id":48923,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"14723:7:44","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":48928,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"14723:113:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48929,"nodeType":"ExpressionStatement","src":"14723:113:44"},{"assignments":[48931],"declarations":[{"constant":false,"id":48931,"mutability":"mutable","name":"quoteTokenDecay","nameLocation":"14925:15:44","nodeType":"VariableDeclaration","scope":48956,"src":"14917:23:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48930,"name":"uint256","nodeType":"ElementaryTypeName","src":"14917:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":48938,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48937,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48934,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48932,"name":"maxBaseTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48874,"src":"14956:15:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":48933,"name":"wInternalQuoteToBaseTokenRatio","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48902,"src":"14974:30:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"14956:48:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":48935,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"14955:50:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":48936,"name":"WAD","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48383,"src":"15008:3:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"14955:56:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"14917:94:44"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48942,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48940,"name":"quoteTokenDecay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48931,"src":"15280:15:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":48941,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15299:1:44","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"15280:20:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4d6174684c69623a204e4f5f51554f54455f4445434159","id":48943,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"15302:25:44","typeDescriptions":{"typeIdentifier":"t_stringliteral_719ccc598ab0abf8a573921a68e3cd47b0c7183214b67bb0886867e7f2590944","typeString":"literal_string \"MathLib: NO_QUOTE_DECAY\""},"value":"MathLib: NO_QUOTE_DECAY"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_719ccc598ab0abf8a573921a68e3cd47b0c7183214b67bb0886867e7f2590944","typeString":"literal_string \"MathLib: NO_QUOTE_DECAY\""}],"id":48939,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"15272:7:44","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":48944,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"15272:56:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48945,"nodeType":"ExpressionStatement","src":"15272:56:44"},{"expression":{"id":48954,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48946,"name":"liquidityTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48871,"src":"15742:17:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":48948,"name":"_baseTokenReserveQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48861,"src":"15840:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48949,"name":"_totalSupplyOfLiquidityTokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48863,"src":"15874:29:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48950,"name":"baseTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48869,"src":"15917:12:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":48951,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48866,"src":"15943:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_memory_ptr","typeString":"struct MathLib.InternalBalances memory"}},"id":48952,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"baseTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48363,"src":"15943:37:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":48947,"name":"calculateLiquidityTokenQtyForSingleAssetEntryWithQuoteTokenDecay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48731,"src":"15762:64:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":48953,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"15762:228:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15742:248:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48955,"nodeType":"ExpressionStatement","src":"15742:248:44"}]},"documentation":{"id":48855,"nodeType":"StructuredDocumentation","src":"12396:838:44","text":" @dev used to calculate the qty of base tokens required and liquidity tokens (deltaRo) to be issued\n in order to add liquidity and remove base token decay.\n @param _baseTokenQtyDesired the amount of base token the user wants to contribute\n @param _baseTokenQtyMin the minimum amount of base token the user wants to contribute (allows for slippage)\n @param _baseTokenReserveQty the external base token reserve qty prior to this transaction\n @param _totalSupplyOfLiquidityTokens the total supply of our exchange's liquidity tokens (aka Ro)\n @param _internalBalances internal balances struct from our exchange's internal accounting\n @return baseTokenQty qty of base token the user must supply\n @return liquidityTokenQty qty of liquidity tokens to be issued in exchange"},"implemented":true,"kind":"function","modifiers":[],"name":"calculateAddBaseTokenLiquidityQuantities","nameLocation":"13248:40:44","parameters":{"id":48867,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48857,"mutability":"mutable","name":"_baseTokenQtyDesired","nameLocation":"13306:20:44","nodeType":"VariableDeclaration","scope":48957,"src":"13298:28:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48856,"name":"uint256","nodeType":"ElementaryTypeName","src":"13298:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48859,"mutability":"mutable","name":"_baseTokenQtyMin","nameLocation":"13344:16:44","nodeType":"VariableDeclaration","scope":48957,"src":"13336:24:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48858,"name":"uint256","nodeType":"ElementaryTypeName","src":"13336:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48861,"mutability":"mutable","name":"_baseTokenReserveQty","nameLocation":"13378:20:44","nodeType":"VariableDeclaration","scope":48957,"src":"13370:28:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48860,"name":"uint256","nodeType":"ElementaryTypeName","src":"13370:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48863,"mutability":"mutable","name":"_totalSupplyOfLiquidityTokens","nameLocation":"13416:29:44","nodeType":"VariableDeclaration","scope":48957,"src":"13408:37:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48862,"name":"uint256","nodeType":"ElementaryTypeName","src":"13408:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48866,"mutability":"mutable","name":"_internalBalances","nameLocation":"13479:17:44","nodeType":"VariableDeclaration","scope":48957,"src":"13455:41:44","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_memory_ptr","typeString":"struct MathLib.InternalBalances"},"typeName":{"id":48865,"nodeType":"UserDefinedTypeName","pathNode":{"id":48864,"name":"InternalBalances","nodeType":"IdentifierPath","referencedDeclaration":48368,"src":"13455:16:44"},"referencedDeclaration":48368,"src":"13455:16:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances"}},"visibility":"internal"}],"src":"13288:214:44"},"returnParameters":{"id":48872,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48869,"mutability":"mutable","name":"baseTokenQty","nameLocation":"13534:12:44","nodeType":"VariableDeclaration","scope":48957,"src":"13526:20:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48868,"name":"uint256","nodeType":"ElementaryTypeName","src":"13526:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48871,"mutability":"mutable","name":"liquidityTokenQty","nameLocation":"13556:17:44","nodeType":"VariableDeclaration","scope":48957,"src":"13548:25:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48870,"name":"uint256","nodeType":"ElementaryTypeName","src":"13548:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"13525:49:44"},"scope":49487,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":49181,"nodeType":"FunctionDefinition","src":"16926:5946:44","nodes":[],"body":{"id":49180,"nodeType":"Block","src":"17302:5570:44","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":48981,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":48979,"name":"_totalSupplyOfLiquidityTokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48970,"src":"17316:29:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":48980,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"17349:1:44","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"17316:34:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":49178,"nodeType":"Block","src":"22119:747:44","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49131,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49129,"name":"_baseTokenQtyDesired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48960,"src":"22218:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":49130,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"22242:1:44","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"22218:25:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4d6174684c69623a20494e53554646494349454e545f424153455f5154595f44455349524544","id":49132,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"22261:40:44","typeDescriptions":{"typeIdentifier":"t_stringliteral_36f7c7740c0c6117544ad5ecf5ae687982fd3781009f82f1137bd18c208bbc53","typeString":"literal_string \"MathLib: INSUFFICIENT_BASE_QTY_DESIRED\""},"value":"MathLib: INSUFFICIENT_BASE_QTY_DESIRED"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_36f7c7740c0c6117544ad5ecf5ae687982fd3781009f82f1137bd18c208bbc53","typeString":"literal_string \"MathLib: INSUFFICIENT_BASE_QTY_DESIRED\""}],"id":49128,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"22193:7:44","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":49133,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"22193:122:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":49134,"nodeType":"ExpressionStatement","src":"22193:122:44"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49138,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49136,"name":"_quoteTokenQtyDesired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48962,"src":"22354:21:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":49137,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"22379:1:44","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"22354:26:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4d6174684c69623a20494e53554646494349454e545f51554f54455f5154595f44455349524544","id":49139,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"22398:41:44","typeDescriptions":{"typeIdentifier":"t_stringliteral_cd4644358e5689f70a401ebacdc8c522ecd29204413908c5a7f738dcbc6dc25b","typeString":"literal_string \"MathLib: INSUFFICIENT_QUOTE_QTY_DESIRED\""},"value":"MathLib: INSUFFICIENT_QUOTE_QTY_DESIRED"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_cd4644358e5689f70a401ebacdc8c522ecd29204413908c5a7f738dcbc6dc25b","typeString":"literal_string \"MathLib: INSUFFICIENT_QUOTE_QTY_DESIRED\""}],"id":49135,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"22329:7:44","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":49140,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"22329:124:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":49141,"nodeType":"ExpressionStatement","src":"22329:124:44"},{"expression":{"id":49146,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":49142,"name":"tokenQtys","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48977,"src":"22468:9:44","typeDescriptions":{"typeIdentifier":"t_struct$_TokenQtys_$48377_memory_ptr","typeString":"struct MathLib.TokenQtys memory"}},"id":49144,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"baseTokenQty","nodeType":"MemberAccess","referencedDeclaration":48370,"src":"22468:22:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":49145,"name":"_baseTokenQtyDesired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48960,"src":"22493:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"22468:45:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49147,"nodeType":"ExpressionStatement","src":"22468:45:44"},{"expression":{"id":49152,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":49148,"name":"tokenQtys","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48977,"src":"22527:9:44","typeDescriptions":{"typeIdentifier":"t_struct$_TokenQtys_$48377_memory_ptr","typeString":"struct MathLib.TokenQtys memory"}},"id":49150,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"quoteTokenQty","nodeType":"MemberAccess","referencedDeclaration":48372,"src":"22527:23:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":49151,"name":"_quoteTokenQtyDesired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48962,"src":"22553:21:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"22527:47:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49153,"nodeType":"ExpressionStatement","src":"22527:47:44"},{"expression":{"id":49162,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":49154,"name":"tokenQtys","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48977,"src":"22588:9:44","typeDescriptions":{"typeIdentifier":"t_struct$_TokenQtys_$48377_memory_ptr","typeString":"struct MathLib.TokenQtys memory"}},"id":49156,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"liquidityTokenQty","nodeType":"MemberAccess","referencedDeclaration":48374,"src":"22588:27:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49160,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49158,"name":"_baseTokenQtyDesired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48960,"src":"22640:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":49159,"name":"_quoteTokenQtyDesired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48962,"src":"22663:21:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"22640:44:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":49157,"name":"sqrt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48520,"src":"22618:4:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) pure returns (uint256)"}},"id":49161,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"22618:80:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"22588:110:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49163,"nodeType":"ExpressionStatement","src":"22588:110:44"},{"expression":{"id":49169,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":49164,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48973,"src":"22713:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":49166,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"baseTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48363,"src":"22713:37:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"expression":{"id":49167,"name":"tokenQtys","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48977,"src":"22754:9:44","typeDescriptions":{"typeIdentifier":"t_struct$_TokenQtys_$48377_memory_ptr","typeString":"struct MathLib.TokenQtys memory"}},"id":49168,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"baseTokenQty","nodeType":"MemberAccess","referencedDeclaration":48370,"src":"22754:22:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"22713:63:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49170,"nodeType":"ExpressionStatement","src":"22713:63:44"},{"expression":{"id":49176,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":49171,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48973,"src":"22790:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":49173,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"quoteTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48365,"src":"22790:38:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"expression":{"id":49174,"name":"tokenQtys","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48977,"src":"22832:9:44","typeDescriptions":{"typeIdentifier":"t_struct$_TokenQtys_$48377_memory_ptr","typeString":"struct MathLib.TokenQtys memory"}},"id":49175,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"quoteTokenQty","nodeType":"MemberAccess","referencedDeclaration":48372,"src":"22832:23:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"22790:65:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49177,"nodeType":"ExpressionStatement","src":"22790:65:44"}]},"id":49179,"nodeType":"IfStatement","src":"17312:5554:44","trueBody":{"id":49127,"nodeType":"Block","src":"17352:4761:44","statements":[{"expression":{"id":48989,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":48982,"name":"tokenQtys","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48977,"src":"17455:9:44","typeDescriptions":{"typeIdentifier":"t_struct$_TokenQtys_$48377_memory_ptr","typeString":"struct MathLib.TokenQtys memory"}},"id":48984,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"liquidityTokenFeeQty","nodeType":"MemberAccess","referencedDeclaration":48376,"src":"17455:30:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":48986,"name":"_totalSupplyOfLiquidityTokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48970,"src":"17533:29:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48987,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48973,"src":"17580:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}],"id":48985,"name":"calculateLiquidityTokenFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49486,"src":"17488:27:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_struct$_InternalBalances_$48368_memory_ptr_$returns$_t_uint256_$","typeString":"function (uint256,struct MathLib.InternalBalances memory) pure returns (uint256)"}},"id":48988,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"17488:123:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"17455:156:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48990,"nodeType":"ExpressionStatement","src":"17455:156:44"},{"expression":{"id":48994,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48991,"name":"_totalSupplyOfLiquidityTokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48970,"src":"17727:29:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"expression":{"id":48992,"name":"tokenQtys","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48977,"src":"17760:9:44","typeDescriptions":{"typeIdentifier":"t_struct$_TokenQtys_$48377_memory_ptr","typeString":"struct MathLib.TokenQtys memory"}},"id":48993,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"liquidityTokenFeeQty","nodeType":"MemberAccess","referencedDeclaration":48376,"src":"17760:30:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"17727:63:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":48995,"nodeType":"ExpressionStatement","src":"17727:63:44"},{"condition":{"arguments":[{"id":48997,"name":"_baseTokenReserveQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48968,"src":"17994:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":48998,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48973,"src":"18036:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}],"id":48996,"name":"isSufficientDecayPresent","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48551,"src":"17948:24:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_struct$_InternalBalances_$48368_memory_ptr_$returns$_t_bool_$","typeString":"function (uint256,struct MathLib.InternalBalances memory) pure returns (bool)"}},"id":48999,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"17948:123:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":49125,"nodeType":"Block","src":"21498:605:44","statements":[{"expression":{"id":49123,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"expression":{"id":49107,"name":"tokenQtys","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48977,"src":"21641:9:44","typeDescriptions":{"typeIdentifier":"t_struct$_TokenQtys_$48377_memory_ptr","typeString":"struct MathLib.TokenQtys memory"}},"id":49109,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"baseTokenQty","nodeType":"MemberAccess","referencedDeclaration":48370,"src":"21641:22:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":49110,"name":"tokenQtys","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48977,"src":"21685:9:44","typeDescriptions":{"typeIdentifier":"t_struct$_TokenQtys_$48377_memory_ptr","typeString":"struct MathLib.TokenQtys memory"}},"id":49111,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"quoteTokenQty","nodeType":"MemberAccess","referencedDeclaration":48372,"src":"21685:23:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":49112,"name":"tokenQtys","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48977,"src":"21730:9:44","typeDescriptions":{"typeIdentifier":"t_struct$_TokenQtys_$48377_memory_ptr","typeString":"struct MathLib.TokenQtys memory"}},"id":49113,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"liquidityTokenQty","nodeType":"MemberAccess","referencedDeclaration":48374,"src":"21730:27:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":49114,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"21619:156:44","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":49116,"name":"_baseTokenQtyDesired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48960,"src":"21840:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":49117,"name":"_quoteTokenQtyDesired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48962,"src":"21882:21:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":49118,"name":"_baseTokenQtyMin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48964,"src":"21925:16:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":49119,"name":"_quoteTokenQtyMin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48966,"src":"21963:17:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":49120,"name":"_totalSupplyOfLiquidityTokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48970,"src":"22002:29:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":49121,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48973,"src":"22053:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}],"id":49115,"name":"calculateAddTokenPairLiquidityQuantities","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49282,"src":"21778:40:44","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_struct$_InternalBalances_$48368_storage_ptr_$returns$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256,struct MathLib.InternalBalances storage pointer) returns (uint256,uint256,uint256)"}},"id":49122,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"21778:310:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256,uint256)"}},"src":"21619:469:44","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":49124,"nodeType":"ExpressionStatement","src":"21619:469:44"}]},"id":49126,"nodeType":"IfStatement","src":"17927:4176:44","trueBody":{"id":49106,"nodeType":"Block","src":"18086:3406:44","statements":[{"assignments":[49001],"declarations":[{"constant":false,"id":49001,"mutability":"mutable","name":"baseTokenQtyFromDecay","nameLocation":"18191:21:44","nodeType":"VariableDeclaration","scope":49106,"src":"18183:29:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49000,"name":"uint256","nodeType":"ElementaryTypeName","src":"18183:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":49002,"nodeType":"VariableDeclarationStatement","src":"18183:29:44"},{"assignments":[49004],"declarations":[{"constant":false,"id":49004,"mutability":"mutable","name":"quoteTokenQtyFromDecay","nameLocation":"18238:22:44","nodeType":"VariableDeclaration","scope":49106,"src":"18230:30:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49003,"name":"uint256","nodeType":"ElementaryTypeName","src":"18230:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":49005,"nodeType":"VariableDeclarationStatement","src":"18230:30:44"},{"assignments":[49007],"declarations":[{"constant":false,"id":49007,"mutability":"mutable","name":"liquidityTokenQtyFromDecay","nameLocation":"18286:26:44","nodeType":"VariableDeclaration","scope":49106,"src":"18278:34:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49006,"name":"uint256","nodeType":"ElementaryTypeName","src":"18278:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":49008,"nodeType":"VariableDeclarationStatement","src":"18278:34:44"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49012,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49009,"name":"_baseTokenReserveQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48968,"src":"18356:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"expression":{"id":49010,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48973,"src":"18379:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":49011,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"baseTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48363,"src":"18379:37:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"18356:60:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":49037,"nodeType":"Block","src":"19086:720:44","statements":[{"expression":{"id":49035,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":49025,"name":"baseTokenQtyFromDecay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49001,"src":"19326:21:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":49026,"name":"liquidityTokenQtyFromDecay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49007,"src":"19373:26:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":49027,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"19300:121:44","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":49029,"name":"_baseTokenQtyDesired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48960,"src":"19490:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"30","id":49030,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"19536:1:44","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"id":49031,"name":"_baseTokenReserveQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48968,"src":"19647:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":49032,"name":"_totalSupplyOfLiquidityTokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48970,"src":"19693:29:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":49033,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48973,"src":"19748:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}],"id":49028,"name":"calculateAddBaseTokenLiquidityQuantities","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48957,"src":"19424:40:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_struct$_InternalBalances_$48368_memory_ptr_$returns$_t_uint256_$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,struct MathLib.InternalBalances memory) pure returns (uint256,uint256)"}},"id":49034,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"19424:363:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"src":"19300:487:44","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":49036,"nodeType":"ExpressionStatement","src":"19300:487:44"}]},"id":49038,"nodeType":"IfStatement","src":"18331:1475:44","trueBody":{"id":49024,"nodeType":"Block","src":"18435:645:44","statements":[{"expression":{"id":49022,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":49013,"name":"quoteTokenQtyFromDecay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49004,"src":"18708:22:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":49014,"name":"liquidityTokenQtyFromDecay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49007,"src":"18756:26:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":49015,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"18682:122:44","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":49017,"name":"_quoteTokenQtyDesired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48962,"src":"18874:21:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":49018,"name":"_baseTokenReserveQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48968,"src":"18921:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":49019,"name":"_totalSupplyOfLiquidityTokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48970,"src":"18967:29:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":49020,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48973,"src":"19022:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}],"id":49016,"name":"calculateAddQuoteTokenLiquidityQuantities","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48854,"src":"18807:41:44","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$_t_struct$_InternalBalances_$48368_storage_ptr_$returns$_t_uint256_$_t_uint256_$","typeString":"function (uint256,uint256,uint256,struct MathLib.InternalBalances storage pointer) returns (uint256,uint256)"}},"id":49021,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"18807:254:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"src":"18682:379:44","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":49023,"nodeType":"ExpressionStatement","src":"18682:379:44"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":49045,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49041,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49039,"name":"quoteTokenQtyFromDecay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49004,"src":"19849:22:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":49040,"name":"_quoteTokenQtyDesired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48962,"src":"19874:21:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"19849:46:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49044,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49042,"name":"baseTokenQtyFromDecay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49001,"src":"19919:21:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":49043,"name":"_baseTokenQtyDesired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48960,"src":"19943:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"19919:44:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"19849:114:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":49071,"nodeType":"IfStatement","src":"19824:1120:44","trueBody":{"id":49070,"nodeType":"Block","src":"19982:962:44","statements":[{"expression":{"id":49068,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"expression":{"id":49046,"name":"tokenQtys","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48977,"src":"20137:9:44","typeDescriptions":{"typeIdentifier":"t_struct$_TokenQtys_$48377_memory_ptr","typeString":"struct MathLib.TokenQtys memory"}},"id":49048,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"baseTokenQty","nodeType":"MemberAccess","referencedDeclaration":48370,"src":"20137:22:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":49049,"name":"tokenQtys","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48977,"src":"20185:9:44","typeDescriptions":{"typeIdentifier":"t_struct$_TokenQtys_$48377_memory_ptr","typeString":"struct MathLib.TokenQtys memory"}},"id":49050,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"quoteTokenQty","nodeType":"MemberAccess","referencedDeclaration":48372,"src":"20185:23:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":49051,"name":"tokenQtys","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48977,"src":"20234:9:44","typeDescriptions":{"typeIdentifier":"t_struct$_TokenQtys_$48377_memory_ptr","typeString":"struct MathLib.TokenQtys memory"}},"id":49052,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"liquidityTokenQty","nodeType":"MemberAccess","referencedDeclaration":48374,"src":"20234:27:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":49053,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"20111:172:44","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49057,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49055,"name":"_baseTokenQtyDesired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48960,"src":"20352:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":49056,"name":"baseTokenQtyFromDecay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49001,"src":"20375:21:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20352:44:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49060,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49058,"name":"_quoteTokenQtyDesired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48962,"src":"20464:21:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":49059,"name":"quoteTokenQtyFromDecay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49004,"src":"20488:22:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20464:46:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"30","id":49061,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"20578:1:44","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"30","id":49062,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"20637:1:44","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49065,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49063,"name":"_totalSupplyOfLiquidityTokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48970,"src":"20696:29:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":49064,"name":"liquidityTokenQtyFromDecay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49007,"src":"20756:26:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20696:86:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":49066,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48973,"src":"20808:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}],"id":49054,"name":"calculateAddTokenPairLiquidityQuantities","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49282,"src":"20286:40:44","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_struct$_InternalBalances_$48368_storage_ptr_$returns$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256,struct MathLib.InternalBalances storage pointer) returns (uint256,uint256,uint256)"}},"id":49067,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"20286:639:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256,uint256)"}},"src":"20111:814:44","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":49069,"nodeType":"ExpressionStatement","src":"20111:814:44"}]}},{"expression":{"id":49076,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":49072,"name":"tokenQtys","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48977,"src":"20961:9:44","typeDescriptions":{"typeIdentifier":"t_struct$_TokenQtys_$48377_memory_ptr","typeString":"struct MathLib.TokenQtys memory"}},"id":49074,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"baseTokenQty","nodeType":"MemberAccess","referencedDeclaration":48370,"src":"20961:22:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":49075,"name":"baseTokenQtyFromDecay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49001,"src":"20987:21:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20961:47:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49077,"nodeType":"ExpressionStatement","src":"20961:47:44"},{"expression":{"id":49082,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":49078,"name":"tokenQtys","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48977,"src":"21026:9:44","typeDescriptions":{"typeIdentifier":"t_struct$_TokenQtys_$48377_memory_ptr","typeString":"struct MathLib.TokenQtys memory"}},"id":49080,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"quoteTokenQty","nodeType":"MemberAccess","referencedDeclaration":48372,"src":"21026:23:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":49081,"name":"quoteTokenQtyFromDecay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49004,"src":"21053:22:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"21026:49:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49083,"nodeType":"ExpressionStatement","src":"21026:49:44"},{"expression":{"id":49088,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":49084,"name":"tokenQtys","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48977,"src":"21093:9:44","typeDescriptions":{"typeIdentifier":"t_struct$_TokenQtys_$48377_memory_ptr","typeString":"struct MathLib.TokenQtys memory"}},"id":49086,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"liquidityTokenQty","nodeType":"MemberAccess","referencedDeclaration":48374,"src":"21093:27:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":49087,"name":"liquidityTokenQtyFromDecay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49007,"src":"21124:26:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"21093:57:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49089,"nodeType":"ExpressionStatement","src":"21093:57:44"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49094,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":49091,"name":"tokenQtys","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48977,"src":"21198:9:44","typeDescriptions":{"typeIdentifier":"t_struct$_TokenQtys_$48377_memory_ptr","typeString":"struct MathLib.TokenQtys memory"}},"id":49092,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"baseTokenQty","nodeType":"MemberAccess","referencedDeclaration":48370,"src":"21198:22:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":49093,"name":"_baseTokenQtyMin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48964,"src":"21224:16:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"21198:42:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4d6174684c69623a20494e53554646494349454e545f424153455f515459","id":49095,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"21262:32:44","typeDescriptions":{"typeIdentifier":"t_stringliteral_2de6066731c03a36bd261d3160780194098a3f735f43d2f3ceaf5b0cbe6ed4ea","typeString":"literal_string \"MathLib: INSUFFICIENT_BASE_QTY\""},"value":"MathLib: INSUFFICIENT_BASE_QTY"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_2de6066731c03a36bd261d3160780194098a3f735f43d2f3ceaf5b0cbe6ed4ea","typeString":"literal_string \"MathLib: INSUFFICIENT_BASE_QTY\""}],"id":49090,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"21169:7:44","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":49096,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"21169:143:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":49097,"nodeType":"ExpressionStatement","src":"21169:143:44"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49102,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":49099,"name":"tokenQtys","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48977,"src":"21360:9:44","typeDescriptions":{"typeIdentifier":"t_struct$_TokenQtys_$48377_memory_ptr","typeString":"struct MathLib.TokenQtys memory"}},"id":49100,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"quoteTokenQty","nodeType":"MemberAccess","referencedDeclaration":48372,"src":"21360:23:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":49101,"name":"_quoteTokenQtyMin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48966,"src":"21387:17:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"21360:44:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4d6174684c69623a20494e53554646494349454e545f51554f54455f515459","id":49103,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"21426:33:44","typeDescriptions":{"typeIdentifier":"t_stringliteral_e07eca5668a74e103164c0caca9a304d01a75b7cf864006fcaea806a66fb32c7","typeString":"literal_string \"MathLib: INSUFFICIENT_QUOTE_QTY\""},"value":"MathLib: INSUFFICIENT_QUOTE_QTY"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_e07eca5668a74e103164c0caca9a304d01a75b7cf864006fcaea806a66fb32c7","typeString":"literal_string \"MathLib: INSUFFICIENT_QUOTE_QTY\""}],"id":49098,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"21331:7:44","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":49104,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"21331:146:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":49105,"nodeType":"ExpressionStatement","src":"21331:146:44"}]}}]}}]},"documentation":{"id":48958,"nodeType":"StructuredDocumentation","src":"16003:918:44","text":" @dev used to calculate the qty of tokens a user will need to contribute and be issued in order to add liquidity\n @param _baseTokenQtyDesired the amount of base token the user wants to contribute\n @param _quoteTokenQtyDesired the amount of quote token the user wants to contribute\n @param _baseTokenQtyMin the minimum amount of base token the user wants to contribute (allows for slippage)\n @param _quoteTokenQtyMin the minimum amount of quote token the user wants to contribute (allows for slippage)\n @param _baseTokenReserveQty the external base token reserve qty prior to this transaction\n @param _totalSupplyOfLiquidityTokens the total supply of our exchange's liquidity tokens (aka Ro)\n @param _internalBalances internal balances struct from our exchange's internal accounting\n @return tokenQtys qty of tokens needed to complete transaction"},"implemented":true,"kind":"function","modifiers":[],"name":"calculateAddLiquidityQuantities","nameLocation":"16935:31:44","parameters":{"id":48974,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48960,"mutability":"mutable","name":"_baseTokenQtyDesired","nameLocation":"16984:20:44","nodeType":"VariableDeclaration","scope":49181,"src":"16976:28:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48959,"name":"uint256","nodeType":"ElementaryTypeName","src":"16976:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48962,"mutability":"mutable","name":"_quoteTokenQtyDesired","nameLocation":"17022:21:44","nodeType":"VariableDeclaration","scope":49181,"src":"17014:29:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48961,"name":"uint256","nodeType":"ElementaryTypeName","src":"17014:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48964,"mutability":"mutable","name":"_baseTokenQtyMin","nameLocation":"17061:16:44","nodeType":"VariableDeclaration","scope":49181,"src":"17053:24:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48963,"name":"uint256","nodeType":"ElementaryTypeName","src":"17053:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48966,"mutability":"mutable","name":"_quoteTokenQtyMin","nameLocation":"17095:17:44","nodeType":"VariableDeclaration","scope":49181,"src":"17087:25:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48965,"name":"uint256","nodeType":"ElementaryTypeName","src":"17087:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48968,"mutability":"mutable","name":"_baseTokenReserveQty","nameLocation":"17130:20:44","nodeType":"VariableDeclaration","scope":49181,"src":"17122:28:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48967,"name":"uint256","nodeType":"ElementaryTypeName","src":"17122:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48970,"mutability":"mutable","name":"_totalSupplyOfLiquidityTokens","nameLocation":"17168:29:44","nodeType":"VariableDeclaration","scope":49181,"src":"17160:37:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":48969,"name":"uint256","nodeType":"ElementaryTypeName","src":"17160:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":48973,"mutability":"mutable","name":"_internalBalances","nameLocation":"17232:17:44","nodeType":"VariableDeclaration","scope":49181,"src":"17207:42:44","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances"},"typeName":{"id":48972,"nodeType":"UserDefinedTypeName","pathNode":{"id":48971,"name":"InternalBalances","nodeType":"IdentifierPath","referencedDeclaration":48368,"src":"17207:16:44"},"referencedDeclaration":48368,"src":"17207:16:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances"}},"visibility":"internal"}],"src":"16966:289:44"},"returnParameters":{"id":48978,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48977,"mutability":"mutable","name":"tokenQtys","nameLocation":"17291:9:44","nodeType":"VariableDeclaration","scope":49181,"src":"17274:26:44","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_TokenQtys_$48377_memory_ptr","typeString":"struct MathLib.TokenQtys"},"typeName":{"id":48976,"nodeType":"UserDefinedTypeName","pathNode":{"id":48975,"name":"TokenQtys","nodeType":"IdentifierPath","referencedDeclaration":48377,"src":"17274:9:44"},"referencedDeclaration":48377,"src":"17274:9:44","typeDescriptions":{"typeIdentifier":"t_struct$_TokenQtys_$48377_storage_ptr","typeString":"struct MathLib.TokenQtys"}},"visibility":"internal"}],"src":"17273:28:44"},"scope":49487,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":49282,"nodeType":"FunctionDefinition","src":"23901:1979:44","nodes":[],"body":{"id":49281,"nodeType":"Block","src":"24358:1522:44","nodes":[],"statements":[{"assignments":[49205],"declarations":[{"constant":false,"id":49205,"mutability":"mutable","name":"requiredQuoteTokenQty","nameLocation":"24376:21:44","nodeType":"VariableDeclaration","scope":49281,"src":"24368:29:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49204,"name":"uint256","nodeType":"ElementaryTypeName","src":"24368:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":49213,"initialValue":{"arguments":[{"id":49207,"name":"_baseTokenQtyDesired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49184,"src":"24442:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":49208,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49195,"src":"24480:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":49209,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"baseTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48363,"src":"24480:37:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":49210,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49195,"src":"24535:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":49211,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"quoteTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48365,"src":"24535:38:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":49206,"name":"calculateQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48591,"src":"24412:12:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":49212,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"24412:175:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"24368:219:44"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49216,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49214,"name":"requiredQuoteTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49205,"src":"24602:21:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":49215,"name":"_quoteTokenQtyDesired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49186,"src":"24627:21:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"24602:46:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":49258,"nodeType":"Block","src":"24979:558:44","statements":[{"assignments":[49234],"declarations":[{"constant":false,"id":49234,"mutability":"mutable","name":"requiredBaseTokenQty","nameLocation":"25051:20:44","nodeType":"VariableDeclaration","scope":49258,"src":"25043:28:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49233,"name":"uint256","nodeType":"ElementaryTypeName","src":"25043:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":49242,"initialValue":{"arguments":[{"id":49236,"name":"_quoteTokenQtyDesired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49186,"src":"25124:21:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":49237,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49195,"src":"25167:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":49238,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"quoteTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48365,"src":"25167:38:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":49239,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49195,"src":"25227:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":49240,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"baseTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48363,"src":"25227:37:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":49235,"name":"calculateQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48591,"src":"25090:12:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":49241,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"25090:192:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"25043:239:44"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49246,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49244,"name":"requiredBaseTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49234,"src":"25322:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":49245,"name":"_baseTokenQtyMin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49188,"src":"25346:16:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"25322:40:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4d6174684c69623a20494e53554646494349454e545f424153455f515459","id":49247,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"25380:32:44","typeDescriptions":{"typeIdentifier":"t_stringliteral_2de6066731c03a36bd261d3160780194098a3f735f43d2f3ceaf5b0cbe6ed4ea","typeString":"literal_string \"MathLib: INSUFFICIENT_BASE_QTY\""},"value":"MathLib: INSUFFICIENT_BASE_QTY"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_2de6066731c03a36bd261d3160780194098a3f735f43d2f3ceaf5b0cbe6ed4ea","typeString":"literal_string \"MathLib: INSUFFICIENT_BASE_QTY\""}],"id":49243,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"25297:7:44","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":49248,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"25297:129:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":49249,"nodeType":"ExpressionStatement","src":"25297:129:44"},{"expression":{"id":49252,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":49250,"name":"baseTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49198,"src":"25440:12:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":49251,"name":"requiredBaseTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49234,"src":"25455:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"25440:35:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49253,"nodeType":"ExpressionStatement","src":"25440:35:44"},{"expression":{"id":49256,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":49254,"name":"quoteTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49200,"src":"25489:13:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":49255,"name":"_quoteTokenQtyDesired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49186,"src":"25505:21:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"25489:37:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49257,"nodeType":"ExpressionStatement","src":"25489:37:44"}]},"id":49259,"nodeType":"IfStatement","src":"24598:939:44","trueBody":{"id":49232,"nodeType":"Block","src":"24650:323:44","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49220,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49218,"name":"requiredQuoteTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49205,"src":"24755:21:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":49219,"name":"_quoteTokenQtyMin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49190,"src":"24780:17:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"24755:42:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4d6174684c69623a20494e53554646494349454e545f51554f54455f515459","id":49221,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"24815:33:44","typeDescriptions":{"typeIdentifier":"t_stringliteral_e07eca5668a74e103164c0caca9a304d01a75b7cf864006fcaea806a66fb32c7","typeString":"literal_string \"MathLib: INSUFFICIENT_QUOTE_QTY\""},"value":"MathLib: INSUFFICIENT_QUOTE_QTY"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_e07eca5668a74e103164c0caca9a304d01a75b7cf864006fcaea806a66fb32c7","typeString":"literal_string \"MathLib: INSUFFICIENT_QUOTE_QTY\""}],"id":49217,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"24730:7:44","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":49222,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"24730:132:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":49223,"nodeType":"ExpressionStatement","src":"24730:132:44"},{"expression":{"id":49226,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":49224,"name":"baseTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49198,"src":"24876:12:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":49225,"name":"_baseTokenQtyDesired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49184,"src":"24891:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"24876:35:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49227,"nodeType":"ExpressionStatement","src":"24876:35:44"},{"expression":{"id":49230,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":49228,"name":"quoteTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49200,"src":"24925:13:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":49229,"name":"requiredQuoteTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49205,"src":"24941:21:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"24925:37:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49231,"nodeType":"ExpressionStatement","src":"24925:37:44"}]}},{"expression":{"id":49267,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":49260,"name":"liquidityTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49202,"src":"25547:17:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":49262,"name":"_totalSupplyOfLiquidityTokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49192,"src":"25626:29:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":49263,"name":"quoteTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49200,"src":"25669:13:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":49264,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49195,"src":"25696:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":49265,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"quoteTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48365,"src":"25696:38:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":49261,"name":"calculateLiquidityTokenQtyForDoubleAssetEntry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48753,"src":"25567:45:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":49266,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"25567:177:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"25547:197:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49268,"nodeType":"ExpressionStatement","src":"25547:197:44"},{"expression":{"id":49273,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":49269,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49195,"src":"25755:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":49271,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"baseTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48363,"src":"25755:37:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":49272,"name":"baseTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49198,"src":"25796:12:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"25755:53:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49274,"nodeType":"ExpressionStatement","src":"25755:53:44"},{"expression":{"id":49279,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":49275,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49195,"src":"25818:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":49277,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"quoteTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48365,"src":"25818:38:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":49278,"name":"quoteTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49200,"src":"25860:13:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"25818:55:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49280,"nodeType":"ExpressionStatement","src":"25818:55:44"}]},"documentation":{"id":49182,"nodeType":"StructuredDocumentation","src":"22878:1018:44","text":" @dev calculates the qty of base and quote tokens required and liquidity tokens (deltaRo) to be issued\n in order to add liquidity when no decay is present.\n @param _baseTokenQtyDesired the amount of base token the user wants to contribute\n @param _quoteTokenQtyDesired the amount of quote token the user wants to contribute\n @param _baseTokenQtyMin the minimum amount of base token the user wants to contribute (allows for slippage)\n @param _quoteTokenQtyMin the minimum amount of quote token the user wants to contribute (allows for slippage)\n @param _totalSupplyOfLiquidityTokens the total supply of our exchange's liquidity tokens (aka Ro)\n @param _internalBalances internal balances struct from our exchange's internal accounting\n @return baseTokenQty qty of base token the user must supply\n @return quoteTokenQty qty of quote token the user must supply\n @return liquidityTokenQty qty of liquidity tokens to be issued in exchange"},"implemented":true,"kind":"function","modifiers":[],"name":"calculateAddTokenPairLiquidityQuantities","nameLocation":"23910:40:44","parameters":{"id":49196,"nodeType":"ParameterList","parameters":[{"constant":false,"id":49184,"mutability":"mutable","name":"_baseTokenQtyDesired","nameLocation":"23968:20:44","nodeType":"VariableDeclaration","scope":49282,"src":"23960:28:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49183,"name":"uint256","nodeType":"ElementaryTypeName","src":"23960:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":49186,"mutability":"mutable","name":"_quoteTokenQtyDesired","nameLocation":"24006:21:44","nodeType":"VariableDeclaration","scope":49282,"src":"23998:29:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49185,"name":"uint256","nodeType":"ElementaryTypeName","src":"23998:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":49188,"mutability":"mutable","name":"_baseTokenQtyMin","nameLocation":"24045:16:44","nodeType":"VariableDeclaration","scope":49282,"src":"24037:24:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49187,"name":"uint256","nodeType":"ElementaryTypeName","src":"24037:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":49190,"mutability":"mutable","name":"_quoteTokenQtyMin","nameLocation":"24079:17:44","nodeType":"VariableDeclaration","scope":49282,"src":"24071:25:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49189,"name":"uint256","nodeType":"ElementaryTypeName","src":"24071:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":49192,"mutability":"mutable","name":"_totalSupplyOfLiquidityTokens","nameLocation":"24114:29:44","nodeType":"VariableDeclaration","scope":49282,"src":"24106:37:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49191,"name":"uint256","nodeType":"ElementaryTypeName","src":"24106:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":49195,"mutability":"mutable","name":"_internalBalances","nameLocation":"24178:17:44","nodeType":"VariableDeclaration","scope":49282,"src":"24153:42:44","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances"},"typeName":{"id":49194,"nodeType":"UserDefinedTypeName","pathNode":{"id":49193,"name":"InternalBalances","nodeType":"IdentifierPath","referencedDeclaration":48368,"src":"24153:16:44"},"referencedDeclaration":48368,"src":"24153:16:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances"}},"visibility":"internal"}],"src":"23950:251:44"},"returnParameters":{"id":49203,"nodeType":"ParameterList","parameters":[{"constant":false,"id":49198,"mutability":"mutable","name":"baseTokenQty","nameLocation":"24257:12:44","nodeType":"VariableDeclaration","scope":49282,"src":"24249:20:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49197,"name":"uint256","nodeType":"ElementaryTypeName","src":"24249:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":49200,"mutability":"mutable","name":"quoteTokenQty","nameLocation":"24291:13:44","nodeType":"VariableDeclaration","scope":49282,"src":"24283:21:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49199,"name":"uint256","nodeType":"ElementaryTypeName","src":"24283:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":49202,"mutability":"mutable","name":"liquidityTokenQty","nameLocation":"24326:17:44","nodeType":"VariableDeclaration","scope":49282,"src":"24318:25:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49201,"name":"uint256","nodeType":"ElementaryTypeName","src":"24318:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"24235:118:44"},"scope":49487,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":49374,"nodeType":"FunctionDefinition","src":"26593:2028:44","nodes":[],"body":{"id":49373,"nodeType":"Block","src":"26870:1751:44","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":49307,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49302,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49300,"name":"_baseTokenReserveQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49289,"src":"26901:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":49301,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"26925:1:44","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"26901:25:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49306,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":49303,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49294,"src":"26946:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":49304,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"baseTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48363,"src":"26946:37:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":49305,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"26987:1:44","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"26946:42:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"26901:87:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4d6174684c69623a20494e53554646494349454e545f424153455f544f4b454e5f515459","id":49308,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"27002:38:44","typeDescriptions":{"typeIdentifier":"t_stringliteral_bc00ea8e93b17788af0c08f1ac294ae46eec0ba5c212c36effc140accd215ab3","typeString":"literal_string \"MathLib: INSUFFICIENT_BASE_TOKEN_QTY\""},"value":"MathLib: INSUFFICIENT_BASE_TOKEN_QTY"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_bc00ea8e93b17788af0c08f1ac294ae46eec0ba5c212c36effc140accd215ab3","typeString":"literal_string \"MathLib: INSUFFICIENT_BASE_TOKEN_QTY\""}],"id":49299,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"26880:7:44","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":49309,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"26880:170:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":49310,"nodeType":"ExpressionStatement","src":"26880:170:44"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49314,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49311,"name":"_baseTokenReserveQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49289,"src":"27151:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":49312,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49294,"src":"27174:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":49313,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"baseTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48363,"src":"27174:37:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"27151:60:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":49352,"nodeType":"Block","src":"28011:348:44","statements":[{"expression":{"id":49350,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":49341,"name":"baseTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49297,"src":"28103:12:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":49343,"name":"_quoteTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49285,"src":"28165:14:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":49344,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49294,"src":"28197:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":49345,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"quoteTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48365,"src":"28197:38:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":49346,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49294,"src":"28253:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":49347,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"baseTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48363,"src":"28253:37:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":49348,"name":"_liquidityFeeInBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49291,"src":"28308:26:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":49342,"name":"calculateQtyToReturnAfterFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48630,"src":"28118:29:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":49349,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"28118:230:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"28103:245:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49351,"nodeType":"ExpressionStatement","src":"28103:245:44"}]},"id":49353,"nodeType":"IfStatement","src":"27147:1212:44","trueBody":{"id":49340,"nodeType":"Block","src":"27213:792:44","statements":[{"assignments":[49316],"declarations":[{"constant":false,"id":49316,"mutability":"mutable","name":"wPricingRatio","nameLocation":"27342:13:44","nodeType":"VariableDeclaration","scope":49340,"src":"27334:21:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49315,"name":"uint256","nodeType":"ElementaryTypeName","src":"27334:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":49323,"initialValue":{"arguments":[{"expression":{"id":49318,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49294,"src":"27400:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":49319,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"baseTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48363,"src":"27400:37:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":49320,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49294,"src":"27459:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":49321,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"quoteTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48365,"src":"27459:38:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":49317,"name":"wDiv","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48407,"src":"27374:4:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":49322,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"27374:141:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"27334:181:44"},{"assignments":[49325],"declarations":[{"constant":false,"id":49325,"mutability":"mutable","name":"impliedQuoteTokenQty","nameLocation":"27547:20:44","nodeType":"VariableDeclaration","scope":49340,"src":"27539:28:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49324,"name":"uint256","nodeType":"ElementaryTypeName","src":"27539:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":49330,"initialValue":{"arguments":[{"id":49327,"name":"_baseTokenReserveQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49289,"src":"27591:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":49328,"name":"wPricingRatio","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49316,"src":"27613:13:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":49326,"name":"wDiv","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48407,"src":"27586:4:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":49329,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"27586:41:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"27539:88:44"},{"expression":{"id":49338,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":49331,"name":"baseTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49297,"src":"27703:12:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":49333,"name":"_quoteTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49285,"src":"27765:14:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":49334,"name":"impliedQuoteTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49325,"src":"27797:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":49335,"name":"_baseTokenReserveQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49289,"src":"27835:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":49336,"name":"_liquidityFeeInBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49291,"src":"27954:26:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":49332,"name":"calculateQtyToReturnAfterFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48630,"src":"27718:29:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":49337,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"27718:276:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"27703:291:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49339,"nodeType":"ExpressionStatement","src":"27703:291:44"}]}},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49357,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49355,"name":"baseTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49297,"src":"28390:12:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":49356,"name":"_baseTokenQtyMin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49287,"src":"28406:16:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"28390:32:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4d6174684c69623a20494e53554646494349454e545f424153455f544f4b454e5f515459","id":49358,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"28436:38:44","typeDescriptions":{"typeIdentifier":"t_stringliteral_bc00ea8e93b17788af0c08f1ac294ae46eec0ba5c212c36effc140accd215ab3","typeString":"literal_string \"MathLib: INSUFFICIENT_BASE_TOKEN_QTY\""},"value":"MathLib: INSUFFICIENT_BASE_TOKEN_QTY"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_bc00ea8e93b17788af0c08f1ac294ae46eec0ba5c212c36effc140accd215ab3","typeString":"literal_string \"MathLib: INSUFFICIENT_BASE_TOKEN_QTY\""}],"id":49354,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"28369:7:44","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":49359,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"28369:115:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":49360,"nodeType":"ExpressionStatement","src":"28369:115:44"},{"expression":{"id":49365,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":49361,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49294,"src":"28495:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":49363,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"baseTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48363,"src":"28495:37:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"-=","rightHandSide":{"id":49364,"name":"baseTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49297,"src":"28536:12:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"28495:53:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49366,"nodeType":"ExpressionStatement","src":"28495:53:44"},{"expression":{"id":49371,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":49367,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49294,"src":"28558:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":49369,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"quoteTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48365,"src":"28558:38:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":49370,"name":"_quoteTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49285,"src":"28600:14:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"28558:56:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49372,"nodeType":"ExpressionStatement","src":"28558:56:44"}]},"documentation":{"id":49283,"nodeType":"StructuredDocumentation","src":"25886:702:44","text":" @dev calculates the qty of base tokens a user will receive for swapping their quote tokens (less fees)\n @param _quoteTokenQty the amount of quote tokens the user wants to swap\n @param _baseTokenQtyMin the minimum about of base tokens they are willing to receive in return (slippage)\n @param _baseTokenReserveQty the external base token reserve qty prior to this transaction\n @param _liquidityFeeInBasisPoints the current total liquidity fee represented as an integer of basis points\n @param _internalBalances internal balances struct from our exchange's internal accounting\n @return baseTokenQty qty of base token the user will receive back"},"implemented":true,"kind":"function","modifiers":[],"name":"calculateBaseTokenQty","nameLocation":"26602:21:44","parameters":{"id":49295,"nodeType":"ParameterList","parameters":[{"constant":false,"id":49285,"mutability":"mutable","name":"_quoteTokenQty","nameLocation":"26641:14:44","nodeType":"VariableDeclaration","scope":49374,"src":"26633:22:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49284,"name":"uint256","nodeType":"ElementaryTypeName","src":"26633:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":49287,"mutability":"mutable","name":"_baseTokenQtyMin","nameLocation":"26673:16:44","nodeType":"VariableDeclaration","scope":49374,"src":"26665:24:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49286,"name":"uint256","nodeType":"ElementaryTypeName","src":"26665:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":49289,"mutability":"mutable","name":"_baseTokenReserveQty","nameLocation":"26707:20:44","nodeType":"VariableDeclaration","scope":49374,"src":"26699:28:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49288,"name":"uint256","nodeType":"ElementaryTypeName","src":"26699:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":49291,"mutability":"mutable","name":"_liquidityFeeInBasisPoints","nameLocation":"26745:26:44","nodeType":"VariableDeclaration","scope":49374,"src":"26737:34:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49290,"name":"uint256","nodeType":"ElementaryTypeName","src":"26737:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":49294,"mutability":"mutable","name":"_internalBalances","nameLocation":"26806:17:44","nodeType":"VariableDeclaration","scope":49374,"src":"26781:42:44","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances"},"typeName":{"id":49293,"nodeType":"UserDefinedTypeName","pathNode":{"id":49292,"name":"InternalBalances","nodeType":"IdentifierPath","referencedDeclaration":48368,"src":"26781:16:44"},"referencedDeclaration":48368,"src":"26781:16:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances"}},"visibility":"internal"}],"src":"26623:206:44"},"returnParameters":{"id":49298,"nodeType":"ParameterList","parameters":[{"constant":false,"id":49297,"mutability":"mutable","name":"baseTokenQty","nameLocation":"26856:12:44","nodeType":"VariableDeclaration","scope":49374,"src":"26848:20:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49296,"name":"uint256","nodeType":"ElementaryTypeName","src":"26848:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"26847:22:44"},"scope":49487,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":49431,"nodeType":"FunctionDefinition","src":"29240:875:44","nodes":[],"body":{"id":49430,"nodeType":"Block","src":"29481:634:44","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":49396,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49392,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49390,"name":"_baseTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49377,"src":"29512:13:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":49391,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"29529:1:44","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"29512:18:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49395,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49393,"name":"_quoteTokenQtyMin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49379,"src":"29534:17:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":49394,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"29555:1:44","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"29534:22:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"29512:44:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4d6174684c69623a20494e53554646494349454e545f544f4b454e5f515459","id":49397,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"29570:33:44","typeDescriptions":{"typeIdentifier":"t_stringliteral_edaffa7d581dcd178aa524b5fdf3fd12ce0b870f1c32512289765d9bc5f81f12","typeString":"literal_string \"MathLib: INSUFFICIENT_TOKEN_QTY\""},"value":"MathLib: INSUFFICIENT_TOKEN_QTY"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_edaffa7d581dcd178aa524b5fdf3fd12ce0b870f1c32512289765d9bc5f81f12","typeString":"literal_string \"MathLib: INSUFFICIENT_TOKEN_QTY\""}],"id":49389,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"29491:7:44","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":49398,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"29491:122:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":49399,"nodeType":"ExpressionStatement","src":"29491:122:44"},{"expression":{"id":49409,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":49400,"name":"quoteTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49387,"src":"29624:13:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":49402,"name":"_baseTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49377,"src":"29683:13:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":49403,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49384,"src":"29710:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":49404,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"baseTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48363,"src":"29710:37:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":49405,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49384,"src":"29761:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":49406,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"quoteTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48365,"src":"29761:38:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":49407,"name":"_liquidityFeeInBasisPoints","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49381,"src":"29813:26:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":49401,"name":"calculateQtyToReturnAfterFees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48630,"src":"29640:29:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":49408,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"29640:209:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"29624:225:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49410,"nodeType":"ExpressionStatement","src":"29624:225:44"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49414,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49412,"name":"quoteTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49387,"src":"29881:13:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":49413,"name":"_quoteTokenQtyMin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49379,"src":"29898:17:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"29881:34:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4d6174684c69623a20494e53554646494349454e545f51554f54455f544f4b454e5f515459","id":49415,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"29929:39:44","typeDescriptions":{"typeIdentifier":"t_stringliteral_8198cd3f3069b34cfb2532ef1c14893631eef94e2859c5161b68400e929973da","typeString":"literal_string \"MathLib: INSUFFICIENT_QUOTE_TOKEN_QTY\""},"value":"MathLib: INSUFFICIENT_QUOTE_TOKEN_QTY"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_8198cd3f3069b34cfb2532ef1c14893631eef94e2859c5161b68400e929973da","typeString":"literal_string \"MathLib: INSUFFICIENT_QUOTE_TOKEN_QTY\""}],"id":49411,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"29860:7:44","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":49416,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"29860:118:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":49417,"nodeType":"ExpressionStatement","src":"29860:118:44"},{"expression":{"id":49422,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":49418,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49384,"src":"29989:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":49420,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"baseTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48363,"src":"29989:37:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":49421,"name":"_baseTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49377,"src":"30030:13:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"29989:54:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49423,"nodeType":"ExpressionStatement","src":"29989:54:44"},{"expression":{"id":49428,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":49424,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49384,"src":"30053:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances storage pointer"}},"id":49426,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"quoteTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48365,"src":"30053:38:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"-=","rightHandSide":{"id":49427,"name":"quoteTokenQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49387,"src":"30095:13:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"30053:55:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49429,"nodeType":"ExpressionStatement","src":"30053:55:44"}]},"documentation":{"id":49375,"nodeType":"StructuredDocumentation","src":"28627:608:44","text":" @dev calculates the qty of quote tokens a user will receive for swapping their base tokens (less fees)\n @param _baseTokenQty the amount of bases tokens the user wants to swap\n @param _quoteTokenQtyMin the minimum about of quote tokens they are willing to receive in return (slippage)\n @param _liquidityFeeInBasisPoints the current total liquidity fee represented as an integer of basis points\n @param _internalBalances internal balances struct from our exchange's internal accounting\n @return quoteTokenQty qty of quote token the user will receive back"},"implemented":true,"kind":"function","modifiers":[],"name":"calculateQuoteTokenQty","nameLocation":"29249:22:44","parameters":{"id":49385,"nodeType":"ParameterList","parameters":[{"constant":false,"id":49377,"mutability":"mutable","name":"_baseTokenQty","nameLocation":"29289:13:44","nodeType":"VariableDeclaration","scope":49431,"src":"29281:21:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49376,"name":"uint256","nodeType":"ElementaryTypeName","src":"29281:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":49379,"mutability":"mutable","name":"_quoteTokenQtyMin","nameLocation":"29320:17:44","nodeType":"VariableDeclaration","scope":49431,"src":"29312:25:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49378,"name":"uint256","nodeType":"ElementaryTypeName","src":"29312:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":49381,"mutability":"mutable","name":"_liquidityFeeInBasisPoints","nameLocation":"29355:26:44","nodeType":"VariableDeclaration","scope":49431,"src":"29347:34:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49380,"name":"uint256","nodeType":"ElementaryTypeName","src":"29347:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":49384,"mutability":"mutable","name":"_internalBalances","nameLocation":"29416:17:44","nodeType":"VariableDeclaration","scope":49431,"src":"29391:42:44","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances"},"typeName":{"id":49383,"nodeType":"UserDefinedTypeName","pathNode":{"id":49382,"name":"InternalBalances","nodeType":"IdentifierPath","referencedDeclaration":48368,"src":"29391:16:44"},"referencedDeclaration":48368,"src":"29391:16:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances"}},"visibility":"internal"}],"src":"29271:168:44"},"returnParameters":{"id":49388,"nodeType":"ParameterList","parameters":[{"constant":false,"id":49387,"mutability":"mutable","name":"quoteTokenQty","nameLocation":"29466:13:44","nodeType":"VariableDeclaration","scope":49431,"src":"29458:21:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49386,"name":"uint256","nodeType":"ElementaryTypeName","src":"29458:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"29457:23:44"},"scope":49487,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":49486,"nodeType":"FunctionDefinition","src":"30689:681:44","nodes":[],"body":{"id":49485,"nodeType":"Block","src":"30883:487:44","nodes":[],"statements":[{"assignments":[49443],"declarations":[{"constant":false,"id":49443,"mutability":"mutable","name":"rootK","nameLocation":"30901:5:44","nodeType":"VariableDeclaration","scope":49485,"src":"30893:13:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49442,"name":"uint256","nodeType":"ElementaryTypeName","src":"30893:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":49451,"initialValue":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49449,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":49445,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49437,"src":"30943:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_memory_ptr","typeString":"struct MathLib.InternalBalances memory"}},"id":49446,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"baseTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48363,"src":"30943:37:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"expression":{"id":49447,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49437,"src":"31003:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_memory_ptr","typeString":"struct MathLib.InternalBalances memory"}},"id":49448,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"quoteTokenReserveQty","nodeType":"MemberAccess","referencedDeclaration":48365,"src":"31003:38:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"30943:98:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":49444,"name":"sqrt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48520,"src":"30921:4:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) pure returns (uint256)"}},"id":49450,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"30921:134:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"30893:162:44"},{"assignments":[49453],"declarations":[{"constant":false,"id":49453,"mutability":"mutable","name":"rootKLast","nameLocation":"31073:9:44","nodeType":"VariableDeclaration","scope":49485,"src":"31065:17:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49452,"name":"uint256","nodeType":"ElementaryTypeName","src":"31065:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":49458,"initialValue":{"arguments":[{"expression":{"id":49455,"name":"_internalBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49437,"src":"31090:17:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_memory_ptr","typeString":"struct MathLib.InternalBalances memory"}},"id":49456,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"kLast","nodeType":"MemberAccess","referencedDeclaration":48367,"src":"31090:23:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":49454,"name":"sqrt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48520,"src":"31085:4:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) pure returns (uint256)"}},"id":49457,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"31085:29:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"31065:49:44"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49461,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49459,"name":"rootK","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49443,"src":"31128:5:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":49460,"name":"rootKLast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49453,"src":"31136:9:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"31128:17:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":49484,"nodeType":"IfStatement","src":"31124:240:44","trueBody":{"id":49483,"nodeType":"Block","src":"31147:217:44","statements":[{"assignments":[49463],"declarations":[{"constant":false,"id":49463,"mutability":"mutable","name":"numerator","nameLocation":"31169:9:44","nodeType":"VariableDeclaration","scope":49483,"src":"31161:17:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49462,"name":"uint256","nodeType":"ElementaryTypeName","src":"31161:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":49470,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49469,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49464,"name":"_totalSupplyOfLiquidityTokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49434,"src":"31197:29:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49467,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49465,"name":"rootK","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49443,"src":"31230:5:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":49466,"name":"rootKLast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49453,"src":"31238:9:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"31230:17:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":49468,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"31229:19:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"31197:51:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"31161:87:44"},{"assignments":[49472],"declarations":[{"constant":false,"id":49472,"mutability":"mutable","name":"denominator","nameLocation":"31270:11:44","nodeType":"VariableDeclaration","scope":49483,"src":"31262:19:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49471,"name":"uint256","nodeType":"ElementaryTypeName","src":"31262:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":49476,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49475,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49473,"name":"rootK","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49443,"src":"31284:5:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"32","id":49474,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"31292:1:44","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"src":"31284:9:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"31262:31:44"},{"expression":{"id":49481,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":49477,"name":"liquidityTokenFeeQty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49440,"src":"31307:20:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":49480,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":49478,"name":"numerator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49463,"src":"31330:9:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":49479,"name":"denominator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49472,"src":"31342:11:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"31330:23:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"31307:46:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":49482,"nodeType":"ExpressionStatement","src":"31307:46:44"}]}}]},"documentation":{"id":49432,"nodeType":"StructuredDocumentation","src":"30121:563:44","text":" @dev calculates the qty of liquidity tokens that should be sent to the DAO due to the growth in K from trading.\n 50BPS is the total fee, 25 goes to the LPs, 5 BP to the DAO, and 20 BP to staking rewards and liquidity incentives\n @param _totalSupplyOfLiquidityTokens the total supply of our exchange's liquidity tokens (aka Ro)\n @param _internalBalances internal balances struct from our exchange's internal accounting\n @return liquidityTokenFeeQty qty of tokens to be minted to the fee address for the growth in K"},"implemented":true,"kind":"function","modifiers":[],"name":"calculateLiquidityTokenFees","nameLocation":"30698:27:44","parameters":{"id":49438,"nodeType":"ParameterList","parameters":[{"constant":false,"id":49434,"mutability":"mutable","name":"_totalSupplyOfLiquidityTokens","nameLocation":"30743:29:44","nodeType":"VariableDeclaration","scope":49486,"src":"30735:37:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49433,"name":"uint256","nodeType":"ElementaryTypeName","src":"30735:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":49437,"mutability":"mutable","name":"_internalBalances","nameLocation":"30806:17:44","nodeType":"VariableDeclaration","scope":49486,"src":"30782:41:44","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_memory_ptr","typeString":"struct MathLib.InternalBalances"},"typeName":{"id":49436,"nodeType":"UserDefinedTypeName","pathNode":{"id":49435,"name":"InternalBalances","nodeType":"IdentifierPath","referencedDeclaration":48368,"src":"30782:16:44"},"referencedDeclaration":48368,"src":"30782:16:44","typeDescriptions":{"typeIdentifier":"t_struct$_InternalBalances_$48368_storage_ptr","typeString":"struct MathLib.InternalBalances"}},"visibility":"internal"}],"src":"30725:104:44"},"returnParameters":{"id":49441,"nodeType":"ParameterList","parameters":[{"constant":false,"id":49440,"mutability":"mutable","name":"liquidityTokenFeeQty","nameLocation":"30861:20:44","nodeType":"VariableDeclaration","scope":49486,"src":"30853:28:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":49439,"name":"uint256","nodeType":"ElementaryTypeName","src":"30853:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"30852:30:44"},"scope":49487,"stateMutability":"pure","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"contractDependencies":[],"contractKind":"library","documentation":{"id":48361,"nodeType":"StructuredDocumentation","src":"59:47:44","text":" @title MathLib\n @author ElasticDAO"},"fullyImplemented":true,"linearizedBaseContracts":[49487],"name":"MathLib","nameLocation":"115:7:44","scope":49488,"usedErrors":[]}],"license":"GPL-3.0"},"id":44}